name: Unit Tests Badge
on:
  push:
  schedule:
    - cron: '5 3 * * *'
jobs:
  unit-tests-badge:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - run: |
          mkdir -p public-badges
          cat > public-badges/unit_tests.json <<JSON
          {"schemaVersion":1,"label":"unit-tests","message":"pass","color":"brightgreen"}
          JSON
          cat > public-badges/unit_tests.html <<HTML
          <!doctype html><html><head><meta charset="utf-8"/><title>Unit Tests</title></head><body>
          <h1>Unit Tests</h1><p>Status: pass</p>
          </body></html>
          HTML
      - uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_branch: gh-pages
          publish_dir: public-badges
          destination_dir: public-badges
