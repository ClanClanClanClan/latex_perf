# Unified rules file combining rules.yaml and rules_v2.yaml
# Total unique rules: 499
# Generated on: 2025-07-17 13:09:13.856827
#
# Notes:
# - Rules from rules_v2.yaml take precedence over rules.yaml for duplicate IDs
# - Duplicate IDs within rules.yaml have been deduplicated

- id: "ACCESS-001"
  description: "Alt text shorter than 5 characters"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@access"
  fix: null
- id: "ACCESS-002"
  description: "Alt text identical to caption"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@access"
  fix: null
- id: "ACCESS-003"
  description: "No \\pdfstringdef for section with math"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@access"
  fix: null
- id: "ACCESS-004"
  description: "Colour contrast ratio < 4.5:1 detected (xcolor)"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@access"
  fix: null
- id: "ACCESS-005"
  description: "Hyperlink text 'click here'"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@access"
  fix: null
- id: "ACCESS-006"
  description: "PDF lacks /Lang metadata"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@access"
  fix: null
- id: "ACCESS-007"
  description: "PDF outline depth exceeds 3"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@access"
  fix: null
- id: "ACCESS-008"
  description: "Math in alt text – screen readers may fail"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@access"
  fix: null
- id: "ACCESS-009"
  description: "Table lacks \\caption* for screen readers"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@access"
  fix: null
- id: "ACCESS-010"
  description: "PDF/A compliance not declared"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@access"
  fix: null
- id: "ACCESS-011"
  description: "No /AltActual on math objects in tagged PDF"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@access"
  fix: null
- id: "ACCESS-012"
  description: "Alt text > 100 chars lacks /AltActualLong"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@access"
  fix: null
- id: "ACCESS-013"
  description: "/StructureTreeRoot missing in PDF"
  precondition: L3_Semantics
  default_severity: Error
  maturity: Draft
  owner: "@access"
  fix: null

# ----------------------------- Security ------------------------------
- id: "BIB-001"
  description: "Bibliography style unspecified"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@bib‑team"
  fix: null
- id: "BIB-002"
  description: "Citation key not in UTF‑8 NFC"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@bib‑team"
  fix: null
- id: "BIB-003"
  description: "Missing DOI in article entry"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@bib‑team"
  fix: null
- id: "BIB-004"
  description: "Legacy BibTeX entrytype misc detected"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@bib‑team"
  fix: null
- id: "BIB-005"
  description: "Year field missing in entry"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@bib‑team"
  fix: null
- id: "BIB-006"
  description: "Bibliography file path outside project root"
  precondition: L2_Ast
  default_severity: Error
  maturity: Draft
  owner: "@bib‑team"
  fix: null
- id: "BIB-007"
  description: "Redundant author field duplicates editor"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@bib‑team"
  fix: null
- id: "BIB-008"
  description: "URL present without accessed date"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@bib‑team"
  fix: null
- id: "BIB-009"
  description: "Capitalisation in journal title incorrect"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@bib‑team"
  fix: null
- id: "BIB-010"
  description: "Multiple bibliography styles declared"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@bib‑team"
  fix: null
- id: "BIB-011"
  description: "Title sentence‑case but style requires title‑case"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@bib‑team"
  fix: null
- id: "BIB-012"
  description: "DOI present but malformed"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@bib‑team"
  fix: null
- id: "BIB-013"
  description: "URL uses http not https"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@bib‑team"
  fix: "switch_to_https"
- id: "BIB-014"
  description: "Inconsistent en‑dash in page ranges"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@bib‑team"
  fix: null
- id: "BIB-015"
  description: "Publisher missing in book entry"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@bib‑team"
  fix: null
- id: "BIB-016"
  description: "Month field present where prohibited by style"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@bib‑team"
  fix: null
- id: "BIB-017"
  description: "Author list truncated manually with et al."
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@bib‑team"
  fix: null
- id: "BIB-018"
  description: "journal field missing capitalisation braces"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@bib‑team"
  fix: null
- id: "BIB-019"
  description: "BibTeX crossref target missing"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@bib‑team"
  fix: null
- id: "BIB-020"
  description: "Duplicate DOI in two entries"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@bib‑team"
  fix: null

# ------------------------ Layout rules ------------------------------
- id: "CHAR-005"
  description: "Control characters U+0000–001F present"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: null
- id: "CHAR-006"
  description: "Backspace U+0008 character in file"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: "remove_char"
- id: "CHAR-007"
  description: "Bell/alert U+0007 character in file"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: "remove_char"
- id: "CHAR-008"
  description: "Form feed U+000C present"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "remove_char"
- id: "CHAR-009"
  description: "Delete U+007F (DEL) present"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "remove_char"
- id: "CHAR-010"
  description: "Right‑to‑left mark U+200F outside RTL language context"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: null
- id: "CHAR-011"
  description: "Left‑to‑right mark U+200E superfluous"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: null
- id: "CHAR-012"
  description: "Zero‑width joiner U+200D outside ligature context"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "remove_char"
- id: "CHAR-013"
  description: "Bidirectional isolate characters U+2066‑U+2069 present"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "remove_char"
- id: "CHAR-014"
  description: "Unicode replacement � found – indicates decoding error"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: null
- id: "CHAR-015"
  description: "Emoji detected in source"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "CHAR-016"
  description: "Double‑width CJK punctuation used in ASCII context"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: null
- id: "CHAR-017"
  description: "Full‑width Latin letters detected"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "replace_ascii_fullwidth"
- id: "CHAR-018"
  description: "Deprecated ligature ﬀ, ﬁ, ﬂ characters"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "replace_with_ascii"
- id: "CHAR-019"
  description: "Non‑standard minus sign U+2212 in text"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "auto_replace"
- id: "CHAR-020"
  description: "Sharp S ß in uppercase context – suggest SS"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null

# ----------------------- Whitespace / spacing -----------------------
#  (SPC‑001 … SPC‑030 unchanged from original, no duplicates removed)
- id: "CHEM-001"
  description: "Missing \\ce{} wrapper for chemical formula"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@chemistry"
  fix: "wrap_ce"
# … CHEM‑002 … CHEM‑010 identical

# --------------------------- TikZ rules -----------------------------
- id: "CHEM-002"
  description: "Oxidation state superscript missing braces"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@chemistry"
  fix: null
- id: "CHEM-003"
  description: "Isotope mass number subscripted not superscripted"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@chemistry"
  fix: null
- id: "CHEM-004"
  description: "Charge written as ^- instead of ^{-}"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@chemistry"
  fix: null
- id: "CHEM-005"
  description: "Chemical arrow typed as -> not \\rightarrow"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@chemistry"
  fix: "replace_with_arrow"
- id: "CHEM-006"
  description: "Stoichiometry coefficient inside \\ce missing"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@chemistry"
  fix: null
- id: "CHEM-007"
  description: "Reaction conditions not in \\text above arrow"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@chemistry"
  fix: null
- id: "CHEM-008"
  description: "State symbols (aq) not in \\text"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@chemistry"
  fix: null
- id: "CHEM-009"
  description: "Equilibrium arrow typed as <>"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@chemistry"
  fix: "replace_with_equil_arrow"
- id: "CHEM-010"
  description: "Reaction scheme exceeds page width"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@chemistry"
  fix: null

# ------------------------------------------------------------------
#  TikZ / PGF rules
# ------------------------------------------------------------------
- id: "CJK-001"
  description: "Full‑width comma U+FF0C in ASCII context"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@cjk"
  fix: "replace_ascii"
- id: "CJK-002"
  description: "Full‑width period U+FF0E in ASCII context"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@cjk"
  fix: "replace_ascii"
- id: "CJK-003"
  description: "Japanese kinsoku forbidden line break before small kana"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@cjk"
  fix: null
- id: "CJK-004"
  description: "xeCJK package missing when CJK glyphs detected"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@cjk"
  fix: "insert_usepackage"
- id: "CJK-005"
  description: "Mixed zh/ja CJK fonts in same paragraph"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@cjk"
  fix: null
- id: "CJK-006"
  description: "Ruby annotation without ruby package"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@cjk"
  fix: "insert_usepackage"
- id: "CJK-007"
  description: "Kanji glyph not in selected CJK font set"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@cjk"
  fix: null
- id: "CJK-008"
  description: "Full‑width space U+3000 inside math mode"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@cjk"
  fix: "remove_char"
- id: "CJK-009"
  description: "Strip Western inter‑word space between CJK glyphs"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@cjk"
  fix: null
- id: "CJK-010"
  description: "CJK punctuation half‑width variant outside ASCII"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@cjk"
  fix: "replace_fullwidth"
- id: "CJK-011"
  description: "Hiragana prolonged sound mark at line start"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@cjk"
  fix: null
- id: "CJK-012"
  description: "xeCJK spaceskip not set (expected \\xeCJKsetup)"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@cjk"
  fix: null
# =====================================================================
#  rules.yaml  •  LaTeX Perfectionist v24‑R3  •  612 rules  (Part 2/5)
#           (append directly after Part 1, no separator)
# =====================================================================

# -------------- CJK continuation (internationalisation) -------------
- id: "CJK-013"
  description: "Prohibited line break before full stop U+3002"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@cjk"
  fix: null
- id: "CJK-014"
  description: "Japanese inter‑punct U+30FB used outside CJK run"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@cjk"
  fix: "replace_ascii"
- id: "CJK-015"
  description: "Chinese punctuation U+3001 inside math mode"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@cjk"
  fix: null

# ----------------- RTL (right‑to‑left) language rules ---------------
- id: "CMD-001"
  description: "Command \\newcommand defined but never used"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null
# … (CMD‑002 … CMD‑010 unchanged)

# ----------------------- Delimiter rules ---------------------------
- id: "CMD-002"
  description: "Command redefined with \\def instead of \\renewcommand"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@structure"
  fix: "suggest_renewcommand"
- id: "CMD-003"
  description: "User command name clashes with package macro"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@pkg‑lint"
  fix: null
- id: "CMD-004"
  description: "CamelCase command names discouraged"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "CMD-005"
  description: "Single‑letter macro created (\\x)"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@structure"
  fix: null
- id: "CMD-006"
  description: "Macro defined inside document body"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null
- id: "CMD-007"
  description: "Optional argument not used in definition body"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null
- id: "CMD-008"
  description: "Macro uses \\@ in name without maketitle context"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@structure"
  fix: null
- id: "CMD-009"
  description: "Macro name contains digits"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null
- id: "CMD-010"
  description: "More than three successive macro renewals"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null

# ------------------------------------------------------------------
#  Post‑expansion delimiter rules (Phase 1 ½)
# ------------------------------------------------------------------
- id: "COL-001"
  description: "CMYK image in RGB workflow"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@graphics"
  fix: null
- id: "COL-002"
  description: "ICC profile missing in embedded image"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@graphics"
  fix: null
- id: "COL-003"
  description: "Transparent PNG in print‑optimised document class"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@graphics"
  fix: null
- id: "COL-004"
  description: "PDF contains spot colour separation"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@graphics"
  fix: null
- id: "COL-005"
  description: "Excess distinct colours (>256) – potential print issue"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@graphics"
  fix: null
- id: "COL-006"
  description: "xcolor option dvipsnames used with pdfLaTeX"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@graphics"
  fix: null

# -------------------------- Verbatim extras -------------------------
- id: "DELIM-001"
  description: "Unmatched delimiters { … } after macro expansion"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: null
- id: "DELIM-002"
  description: "Extra closing } detected"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: null
- id: "DELIM-003"
  description: "Unmatched \\left without \\right"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "DELIM-004"
  description: "Unmatched \\right without \\left"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "DELIM-005"
  description: "Mismatched parenthesis sizes (\\big vs \\Bigg)"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "DELIM-006"
  description: "\\big delimiters used outside display math"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "DELIM-007"
  description: "Angle bracket \\langle without matching \\rangle"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "DELIM-008"
  description: "Empty \\left. … \\right. pair – redundant"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "DELIM-009"
  description: "Nested delimiters: {...( )...}"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "DELIM-010"
  description: "Display math uses \\big instead of \\Big"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
# =====================================================================
#  rules.yaml  •  LaTeX Perfectionist v24‑R3  •  612 rules  (Part 4/5)
#           (append directly after Part 3, no separator)
# =====================================================================

# ---------------------- Math token rules (10‑40) --------------------
- id: "DOC-001"
  description: "Title missing \\maketitle"
  precondition: L2_Ast
  default_severity: Error
  maturity: Draft
  owner: "@structure"
  fix: null
- id: "DOC-002"
  description: "Abstract environment missing"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@structure"
  fix: null
- id: "DOC-003"
  description: "Keywords missing"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null
- id: "DOC-004"
  description: "Acknowledgment section before conclusion"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null
- id: "ENC-001"
  description: "Non‑UTF‑8 byte sequence detected"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: null
- id: "ENC-002"
  description: "Byte‑order‑mark U+FEFF present in middle of file"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: "remove_bom"
- id: "ENC-003"
  description: "LATIN‑1 smart quotes detected"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "auto_utf8"
#  … (ENC‑004 … ENC‑020 identical to your original list; unchanged)

- id: "ENC-004"
  description: "Windows‑1252 characters (– — …) outside UTF‑8"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "auto_utf8"
- id: "ENC-005"
  description: "Invalid UTF‑8 continuation byte"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: null
- id: "ENC-006"
  description: "Overlong UTF‑8 encoding sequence"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: null
- id: "ENC-007"
  description: "Deprecated Unicode U+200B zero‑width space"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "remove_char"
- id: "ENC-008"
  description: "Private‑use codepoint detected"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: null
- id: "ENC-009"
  description: "Unpaired surrogate code unit"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: null
- id: "ENC-010"
  description: "Non‑canonical NFC form"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "normalize_nfc"
- id: "ENC-011"
  description: "Byte sequence looks like MacRoman encoding"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "auto_utf8"
- id: "ENC-012"
  description: "C1 control characters U+0080–009F"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: null
- id: "ENC-013"
  description: "Mixed line endings CRLF and LF in same file"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "normalize_line_endings"
- id: "ENC-014"
  description: "UTF‑16 byte order mark present"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: "remove_bom"
- id: "ENC-015"
  description: "Non‑NFKC homoglyph characters (Greek mu vs µ)"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "normalize_nfkc"
- id: "ENC-016"
  description: "Arabic numerals replaced by Unicode look‑alikes"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "replace_ascii_digits"
- id: "ENC-017"
  description: "Soft hyphen U+00AD found in source"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "remove_char"
- id: "ENC-018"
  description: "Non‑breaking hyphen U+2011 – discourage except in URLs"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: null
- id: "ENC-019"
  description: "Duplicate combining accents on same base glyph"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "normalize_nfc"
- id: "ENC-020"
  description: "Invisible formatting mark U+200E / U+200F present"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "remove_char"
# =====================================================================
#  rules.yaml  •  LaTeX Perfectionist v24‑R3  •  612 rules  (Part 3/5)
#           (append directly after Part 2, no separator)
# =====================================================================

# -------------------- Control / special‑byte characters -------------
- id: "FIG-001"
  description: "Figure without caption"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null
# … FIG‑002 … FIG‑020 identical

# -------------------- Package rules (PKG‑001…020) -------------------
- id: "FIG-002"
  description: "Figure without label"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "FIG-003"
  description: "Label before caption in figure"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "FIG-004"
  description: "Raster image exceeds 300 dpi"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@graphics"
  fix: null
- id: "FIG-005"
  description: "Figure width > \\linewidth"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "FIG-006"
  description: "Bitmap image with transparency channel"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@graphics"
  fix: null
- id: "FIG-007"
  description: "Figure lacks alt text for accessibility"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@access"
  fix: null
- id: "FIG-008"
  description: "TikZ figure compiled in draft mode"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@tikz"
  fix: null
- id: "FIG-009"
  description: "Float position specifier ! used excessively"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "FIG-010"
  description: "Subfigure environment without \\subcaption"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "FIG-011"
  description: "EPS graphic in pdfLaTeX run"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@graphics"
  fix: null
- id: "FIG-012"
  description: "Figure listed in LoF but not referenced"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "FIG-013"
  description: "Graphicx option scale used instead of width"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@graphics"
  fix: null
- id: "FIG-014"
  description: "Figure caption exceeds 300 characters"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "FIG-015"
  description: "Figure placed before first reference in text"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "FIG-016"
  description: "Raster image colour profile not sRGB"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@graphics"
  fix: null
- id: "FIG-017"
  description: "Sidewaysfigure used with portrait page layout"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "FIG-018"
  description: "Float figure too far from reference (>3 pages)"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

# ------------------------------------------------------------------
#  Phase 4 – Style rules (precondition: L4_Style)
# ------------------------------------------------------------------
- id: "FIG-019"
  description: "Subcaption label missing (a), (b)…"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "FIG-020"
  description: "Overfull \\hbox within figure caption"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null

# ------------------------------------------------------------------
#  Package rules
# ------------------------------------------------------------------
- id: "FONT-001"
  description: "Small‑caps applied to all‑caps word"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@fonts"
  fix: null
- id: "FONT-002"
  description: "Mixed optical sizes (e.g. 8pt + 12pt) in same paragraph"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@fonts"
  fix: null
- id: "FONT-003"
  description: "Microtype protrusion disabled globally"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@fonts"
  fix: "enable_protrusion"
- id: "FONT-004"
  description: "Font change inside math via \\textit instead of \\mathit"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@fonts"
  fix: "replace_with_mathit"
- id: "FONT-005"
  description: "Fontspec fallback to Latin Modern detected"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@fonts"
  fix: null
- id: "FONT-006"
  description: "Missing \\microtypesetup{expansion=true}"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@fonts"
  fix: null
- id: "FONT-007"
  description: "Obsolete \\usepackage[T1]{fontenc} under XeLaTeX"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@fonts"
  fix: null
- id: "FONT-008"
  description: "Multiple \\setmainfont declarations"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@fonts"
  fix: null

# --------------------------- Colour / PDF ---------------------------
- id: "L3-001"
  description: "LaTeX3 macro \\tl_new:N in preamble mixed with 2e macros"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@expl3"
  fix: null
- id: "L3-002"
  description: "Expl3 variable declared after \\begin{document}"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@expl3"
  fix: null
- id: "L3-003"
  description: "Expl3 and etoolbox patch macros combined"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@expl3"
  fix: null
- id: "L3-004"
  description: "Undocumented \\__module_internal:N used"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@expl3"
  fix: null
- id: "L3-005"
  description: "Missing \\ExplSyntaxOn guard around expl3 code"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@expl3"
  fix: null
- id: "L3-006"
  description: "Expl3 variable clobbers package macro name"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@expl3"
  fix: null
- id: "L3-007"
  description: "Mix of camelCase and snake_case in expl3 variable names"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@expl3"
  fix: null
- id: "L3-008"
  description: "Expl3 module lacks \\ProvidesExplPackage"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@expl3"
  fix: null
- id: "L3-009"
  description: "LaTeX3 function deprecated _n: variant used"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@expl3"
  fix: null
- id: "L3-010"
  description: "ExplSyntaxOff missing at end of file"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@expl3"
  fix: null

# ---------------------- Document metadata ---------------------------
- id: "LANG-001"
  description: "\\usepackage[british]{babel} but US spelling detected"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
# … LANG‑002 … LANG‑010 identical

# ------------------------- Style rules ------------------------------
- id: "LANG-002"
  description: "babel language option missing"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "LANG-003"
  description: "Mixed French and English punctuation spacing"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "LANG-004"
  description: "Polyglossia loaded with babel simultaneously"
  precondition: L2_Ast
  default_severity: Error
  maturity: Draft
  owner: "@pkg‑lint"
  fix: null
- id: "LANG-005"
  description: "Wrong hyphenation exception \\hyphenpenalty too low"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "LANG-006"
  description: "Non‑English abstract before \\selectlanguage"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "LANG-007"
  description: "babel shorthand \" used instead of \\og/\\fg"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "LANG-008"
  description: "Spell‑checking dictionary differs from babel option"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "LANG-009"
  description: "Raggedright text in non‑Latin script"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "LANG-010"
  description: "Arabic digits in RTL context not localised"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null

# ------------------------------------------------------------------
#  Document metadata rules
# ------------------------------------------------------------------
- id: "LAY-001"
  description: "Overfull \\hbox > 2 pt outside bibliography"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null
# … LAY‑002 … LAY‑020 identical to earlier list (append accordingly)
- id: "LAY-002"
  description: "Widow or orphan line detected after compile"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null
#  … (include through LAY‑020)

# --------------------- Language consistency -------------------------
- id: "LAY-003"
  description: "Section heading at bottom of page"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "LAY-004"
  description: "Page margin outside geometry limits"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "LAY-005"
  description: "Lines per page exceed 66"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "LAY-006"
  description: "Float too close to previous float (less than 2 lines)"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "LAY-007"
  description: "Paragraph indent inconsistent after display math"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "LAY-008"
  description: "Heading left aligned but style requires centred"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "LAY-009"
  description: "Footnote overlaps bottom margin"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "LAY-010"
  description: "Page number suppressed on chapter opening page but required"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

# ------------------------------------------------------------------
#  Phase 4 – Document‑wide style rules
# ------------------------------------------------------------------
- id: "LAY-011"
  description: "Figure overlaps footer (compile log warning)"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "LAY-012"
  description: "Chapter starts on even page but style requires odd"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "LAY-013"
  description: "Empty page without \\thispagestyle{empty}"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "LAY-014"
  description: "Page break before subsection discouraged"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "LAY-015"
  description: "Line spacing <1.0 or >2.0"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "LAY-016"
  description: "Table spread across page break without \\allowbreak"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "LAY-017"
  description: "Section heading orphaned at page top"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "LAY-018"
  description: "Underfull \\vbox warning in log"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "LAY-019"
  description: "Wide margin note exceeds marginpar width"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "LAY-020"
  description: "Float placement parameters altered (\\setcounter{topnumber})"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

# ------------------------------------------------------------------
#  Language consistency rules
# ------------------------------------------------------------------
- id: "MATH-009"
  description: "Bare 'sin', 'log', 'exp' inside math; use \\sin, \\log, \\exp"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "auto_insert_backslash"
- id: "MATH-010"
  description: "Division symbol ÷ used; prefer \\frac or /"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: "suggest_frac"
- id: "MATH-011"
  description: "Vector notation inconsistent within equation"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-012"
  description: "Roman font for multi‑letter function missing (\\operatorname{})"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: "wrap_operatorname"
- id: "MATH-013"
  description: "Differential d not typeset in roman"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-014"
  description: "Inline fraction \\frac in text"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: "suggest_tfrac"
- id: "MATH-015"
  description: "Stackrel used; prefer \\overset"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: "replace_with_overset"
- id: "MATH-016"
  description: "Nested subscripts without braces"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-017"
  description: "Mis‑matched \\left\\{ ... \\right]"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-018"
  description: "Pi typed as 3.14 instead of \\pi"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-019"
  description: "Inline stacked sub‑superscript ^_ order wrong"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-020"
  description: "Missing \\cdot between scalar and vector"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-021"
  description: "Absolute value bars used instead of \\lvert/\\rvert"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-022"
  description: "Bold math italic without \\bm or \\mathbf"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-023"
  description: "Equation label missing when referenced"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-024"
  description: "Equation has label but is never referenced"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-025"
  description: "Align environment with single column – prefer equation"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: "suggest_equation"
- id: "MATH-026"
  description: "Overfull \\hbox in equation detected in log"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "MATH-027"
  description: "Displayed equation exceeding page margins after compile"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "MATH-028"
  description: "Array environment inside math lacks {c} alignment"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-029"
  description: "Use of eqnarray* instead of align*"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: "auto_replace"
- id: "MATH-030"
  description: "Overuse of \\displaystyle in inline math"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-031"
  description: "Operator spacing error: missing \\; before \\text"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-032"
  description: "Incorrect small matrix brackets"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: "suggest_bmatrix"
- id: "MATH-033"
  description: "Use of \\pm where ± symbol required in text"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-034"
  description: "Spacing before differential in integral missing \\,"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-035"
  description: "Multiple subscripts stacked vertically without braces"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-036"
  description: "Superfluous \\mathrm{} around single letter"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-037"
  description: "xfrac package fraction used outside text mode"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-038"
  description: "Nested \\frac three levels deep"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-039"
  description: "Stacked relational operators without \\atop"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-040"
  description: "Ellipsis \\ldots used between vertical alignment"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null

# ---------------------- Math token rules (41‑80) --------------------
- id: "MATH-041"
  description: "Integral limits written inline; use displaystyle \\int"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
#  … include MATH‑042 → MATH‑080 **as originally listed** (unchanged)
#  (omitted here for brevity but they are part of the concatenated file)

# ---------------------- Cross‑reference rules -----------------------
- id: "MATH-042"
  description: "Missing \\, between numbers and units in math"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-043"
  description: "Use of \\text instead of \\operatorname for function"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: "wrap_operatorname"
- id: "MATH-044"
  description: "Binary relation typed as text char (e.g. < for \\le)"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: "replace_with_symbol"
- id: "MATH-045"
  description: "Math italic capital Greek without \\mathrm"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-046"
  description: "Ellipsis \\ldots used on relation axis; prefer \\cdots"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: "suggest_cdots"
- id: "MATH-047"
  description: "Double superscript without braces a^b^c"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-048"
  description: "Boldface digits via \\mathbf in math – avoid"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-049"
  description: "Spacing around \\times missing"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-050"
  description: "Circumflex accent ^\\hat on multi‑letter"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-051"
  description: "Radical \\sqrt nested two levels"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-052"
  description: "\\over brace used; prefer \\frac"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: "suggest_frac"
- id: "MATH-053"
  description: "Space after \\left( at line start"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: "remove_space"
- id: "MATH-054"
  description: "Equation labelled 'eq:' without environment"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-055"
  description: "Math font change \\mathcal for single character only"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-056"
  description: "\\operatorname duplicated for same function"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-057"
  description: "Empty fraction numerator or denominator"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-058"
  description: "Nested \\text inside \\text"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-059"
  description: "Math accent \\bar on group expression needs braces"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-060"
  description: "Differential d typeset italic"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-061"
  description: "Log base missing braces in \\log_10x"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: "wrap_base_braces"
- id: "MATH-062"
  description: "Multiline equation lacks alignment character &"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-063"
  description: "Equation array with >1 alignment point"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-064"
  description: "Use of \\eqalign – obsolete"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: "replace_with_align"
- id: "MATH-065"
  description: "Manual spacing \\hspace in math detected"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-066"
  description: "\\phantom used; suggest \\hphantom or \\vphantom"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-067"
  description: "Stacked limits on non‑operator"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-068"
  description: "Spacing around \\mid missing"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-069"
  description: "Bold sans‑serif math font used"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-070"
  description: "Multiline subscripts lack \\substack"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-071"
  description: "Overuse of \\cancel in equations"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "MATH-072"
  description: "Unknown math operator name"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-073"
  description: "xcolor macro \\color used inside math"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "MATH-074"
  description: "TikZ node inside math without math mode set"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@tikz"
  fix: null
- id: "MATH-075"
  description: "Equation number suppressed with \\nonumber but referenced"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-076"
  description: "Equation split across pages without \\allowbreak"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "MATH-077"
  description: "Alignment point & outside alignment environment"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-078"
  description: "Long arrow typed as --> instead of \\longrightarrow"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: "auto_replace"
- id: "MATH-079"
  description: "\\displaystyle inside display math – redundant"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-080"
  description: "Equation exceeds 3 alignment columns"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null

# ------------------------------------------------------------------
#  Phase 2 – AST structural rules
# ------------------------------------------------------------------
- id: "MATH-081"
  description: "Improper kerning f(x) – suggest f\\!\\left(x\\right)"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-082"
  description: "Negative thin space \\! misused twice consecutively"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-083"
  description: "Unicode minus inside text mode"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: "replace_with_hyphen"
- id: "MATH-084"
  description: "Displaystyle \\sum in inline math"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-085"
  description: "Use of \\eqcirc – rarely acceptable"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-086"
  description: "Nested root \\sqrt{\\sqrt{…}} depth >2"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "MATH-087"
  description: "Maths uses fake bold via \\mathbf on digits"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null

# --------------------- (return to original list) --------------------
#  Encoding rules already started in Part 1; resume with existing IDs
- id: "MENV-001"
  description: "\\begin{eqnarray} is obsolete; use {align}"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: "auto_replace"
- id: "META-001"
  description: "PDF /Producer string not set to deterministic hash"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@meta"
  fix: null
- id: "META-002"
  description: "Revision hash missing from \\date field"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@meta"
  fix: null
- id: "META-003"
  description: "Build timestamp not reproducible"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@meta"
  fix: null

# -------------------- Math refinements (new) ------------------------
- id: "PKG-001"
  description: "Package duplicate inclusion detected"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@pkg‑lint"
  fix: null
# … PKG‑002 (geometry/hyperref order) retained once, PKG‑003 … PKG‑020
- id: "PKG-002"
  description: "geometry loaded after hyperref – must precede"
  precondition: L2_Ast
  default_severity: Error
  maturity: Draft
  owner: "@pkg‑lint"
  fix: "reorder_packages"
#  … PKG‑003 … PKG‑020 unchanged
# =====================================================================
#  rules.yaml  •  LaTeX Perfectionist v24‑R3  •  612 rules  (Part 5/5)
#           (append directly after Part 4, no separator)
# =====================================================================

# ---------------------- Bibliography rules --------------------------
- id: "PKG-003"
  description: "Incompatible options for microtype with LuaTeX"
  precondition: L3_Semantics
  default_severity: Error
  maturity: Draft
  owner: "@pkg‑lint"
  fix: null
- id: "PKG-004"
  description: "Package loaded after \\begin{document}"
  precondition: L2_Ast
  default_severity: Error
  maturity: Draft
  owner: "@pkg‑lint"
  fix: null
- id: "PKG-005"
  description: "Unknown option for geometry package"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@pkg‑lint"
  fix: null
- id: "PKG-006"
  description: "microtype expansion disabled"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@pkg‑lint"
  fix: null
- id: "PKG-007"
  description: "hyperref loaded before geometry"
  precondition: L2_Ast
  default_severity: Error
  maturity: Draft
  owner: "@pkg‑lint"
  fix: "reorder_packages"
- id: "PKG-008"
  description: "xcolor loaded without dvipsnames option"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@pkg‑lint"
  fix: null
- id: "PKG-009"
  description: "TikZ libraries loaded inside document body"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@tikz"
  fix: null
- id: "PKG-010"
  description: "biblatex loaded with deprecated backend=biber option"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@bib‑team"
  fix: null

# ------------------------------------------------------------------
#  Bibliography rules
# ------------------------------------------------------------------
- id: "PKG-011"
  description: "booktabs package required but not loaded for \\toprule"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@pkg‑lint"
  fix: "insert_usepackage"
- id: "PKG-012"
  description: "csquotes missing when \\enquote used"
  precondition: L2_Ast
  default_severity: Error
  maturity: Draft
  owner: "@pkg‑lint"
  fix: "insert_usepackage"
- id: "PKG-013"
  description: "microtype not loaded in XeLaTeX path"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@pkg‑lint"
  fix: null
- id: "PKG-014"
  description: "siunitx outdated v2 API"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@pkg‑lint"
  fix: null
- id: "PKG-015"
  description: "Inputenc package loaded under XeLaTeX/LuaLaTeX"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@pkg‑lint"
  fix: null
- id: "PKG-016"
  description: "Graphicx option pdftex in incompatible engine"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@pkg‑lint"
  fix: null
- id: "PKG-017"
  description: "fontspec loaded in pdfLaTeX"
  precondition: L2_Ast
  default_severity: Error
  maturity: Draft
  owner: "@pkg‑lint"
  fix: null
- id: "PKG-018"
  description: "hyperref option draft left enabled"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@pkg‑lint"
  fix: null
- id: "PKG-019"
  description: "geometry package margin < 1 cm"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@pkg‑lint"
  fix: null
- id: "PKG-020"
  description: "tikz external library not loaded with externalization"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@pkg‑lint"
  fix: null

# ------------------------------------------------------------------
#  Additional bibliography rules
# ------------------------------------------------------------------
- id: "REF-001"
  description: "Undefined \\ref / \\eqref label after expansion"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@structure"
  fix: null
# … REF‑002 … REF‑010 identical to earlier list

# -------------------- Script / sub‑superscript ----------------------
- id: "REF-002"
  description: "Duplicate label name"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@structure"
  fix: null
- id: "REF-003"
  description: "Label contains spaces"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@structure"
  fix: null
- id: "REF-004"
  description: "Label contains uppercase letters"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null
- id: "REF-005"
  description: "Label not prefixed with fig:, tab:, eq:, sec:"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null
- id: "REF-006"
  description: "Reference to page number uses \\ref not \\pageref"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: "suggest_pageref"
- id: "REF-007"
  description: "Cite key contains whitespace"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@bib‑team"
  fix: null
- id: "REF-008"
  description: "Cite key duplicated in .bib file"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@bib‑team"
  fix: null
- id: "REF-009"
  description: "Reference appears before label definition (forward ref)"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null
- id: "REF-010"
  description: "Figure referenced before first mention in text"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

# ------------------------------------------------------------------
#  Script rules (sub/superscript patterns)
# ------------------------------------------------------------------
- id: "REF-019"
  description: "Citation key used but not present in .bib"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@bib‑team"
  fix: null
- id: "RTL-001"
  description: "Mixture of RTL and LTR digits in same number"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@rtl"
  fix: null
- id: "RTL-002"
  description: "Missing \\textLR around Latin acronym in Arabic text"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@rtl"
  fix: null
- id: "RTL-003"
  description: "Unbalanced \\beginR / \\endR primitives"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@rtl"
  fix: null
- id: "RTL-004"
  description: "Bidirectional punctuation not mirrored in math"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@rtl"
  fix: null
- id: "RTL-005"
  description: "Polyglossia RTL font not specified"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@rtl"
  fix: null

# ------------------------------ Fonts -------------------------------
- id: "SCRIPT-001"
  description: "Multi‑char subscript without braces"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: "wrap_in_braces"
# … SCRIPT‑002 … SCRIPT‑020 identical to earlier list

# ---------------------- Table rules (TAB‑001…010) -------------------
- id: "SCRIPT-002"
  description: "Superscript dash used instead of \\textsuperscript{--}"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "SCRIPT-003"
  description: "Comma separated superscripts without braces"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "SCRIPT-004"
  description: "Subscript after prime notation mis‑ordered"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "SCRIPT-005"
  description: "Superscript uses letter l instead of \\ell"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: "replace_with_ell"
- id: "SCRIPT-006"
  description: "Degree symbol typed as ° instead of ^\\circ"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: "replace_with_circ"
- id: "SCRIPT-007"
  description: "Subscript text not in \\text{}"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: "wrap_text"
- id: "SCRIPT-008"
  description: "Chemical formula lacks \\mathrm{} in subscript"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@chemistry"
  fix: null
- id: "SCRIPT-009"
  description: "Isotope notation missing superscript mass number"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@chemistry"
  fix: null
- id: "SCRIPT-010"
  description: "Use of \\limits on inline operator"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "SCRIPT-011"
  description: "Nested superscript three levels deep"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "SCRIPT-012"
  description: "Prime notation repeated (f''') – consider ^{(3)}"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null

# ------------------------------------------------------------------
#  Phase 1 ½ – Post‑expansion math‑token rules
# ------------------------------------------------------------------
- id: "SCRIPT-013"
  description: "Plus/minus in subscript – use \\pm outside index"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "SCRIPT-014"
  description: "Logarithm base subscript not italic"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "SCRIPT-015"
  description: "Time derivative dot notation mis‑aligned"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "SCRIPT-016"
  description: "Prime on Greek letter should use ^\\prime"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: "replace_with_prime"
- id: "SCRIPT-017"
  description: "Inconsistent order of sub‑superscripts"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "SCRIPT-018"
  description: "Degree symbol typed in superscript without braces"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "SCRIPT-019"
  description: "Double prime typed as '' instead of ^{\\prime\\prime}"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: "replace_with_prime"
- id: "SCRIPT-020"
  description: "Subscript uses italic text instead of \\mathrm"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null

# ------------------------------------------------------------------
#  Additional package rules
# ------------------------------------------------------------------
- id: "SEC-001"
  description: "\\write18 detected (even in comments)"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@security"
  fix: null
- id: "SEC-002"
  description: "Graphic file checksum mismatch vs manifest"
  precondition: L3_Semantics
  default_severity: Error
  maturity: Draft
  owner: "@security"
  fix: null
- id: "SEC-003"
  description: "Input path points to /dev or /proc"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@security"
  fix: null

# ---------------------- CJK / full‑width handling --------------------
- id: "SPC-001"
  description: "Line longer than 120 characters"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: null
#  … (SPC‑002 → SPC‑030 identical to original list; omitted here for brevity)
#  … ensure to keep SPC‑007 *and* drop duplicate TYPO‑008 (>2 blank lines)
- id: "SPC-002"
  description: "Lines with only whitespace"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "delete_line"
- id: "SPC-003"
  description: "Hard tab precedes non‑tab text"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "convert_tabs"
# … (continue SPC‑004 → SPC‑030 as per original)

# ------------------------ Verbatim rules ----------------------------
# (VERB‑001 … VERB‑010 already defined in original; we added 11‑15 earlier)
- id: "SPC-004"
  description: "Carriage return characters CR (U+000D) lone"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "normalize_line_endings"
- id: "SPC-005"
  description: "Trailing tab at end of line"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "convert_tabs"
- id: "SPC-006"
  description: "Indentation mixes spaces and tabs"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "convert_tabs"
- id: "SPC-007"
  description: "Three or more consecutive blank lines"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "collapse_blank_lines"
- id: "SPC-008"
  description: "Paragraph starts with whitespace"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: "remove_space"
- id: "SPC-009"
  description: "Non‑breaking space ~ at line start"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "replace_space"
- id: "SPC-010"
  description: "Sentence spacing uses two spaces after period"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: "collapse_spaces"
- id: "SPC-011"
  description: "Space before newline inside math display $$"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: "remove_space"
- id: "SPC-012"
  description: "Leading BOM not at file start"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: "remove_bom"
- id: "SPC-013"
  description: "Whitespace-only paragraph"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: "delete_line"
- id: "SPC-014"
  description: "Mix of LF and CRLF within same paragraph"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "normalize_line_endings"
- id: "SPC-015"
  description: "Indentation >8 spaces (code smell)"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: null
- id: "SPC-016"
  description: "Space before semicolon in text"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "remove_space"
- id: "SPC-017"
  description: "Missing \\, thin space before units (e.g. 5cm)"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "SPC-018"
  description: "No space after sentence-ending period"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: "insert_space"
- id: "SPC-019"
  description: "Trailing full‑width space U+3000 at line end"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "remove_char"
- id: "SPC-020"
  description: "Tab character inside math mode"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: "convert_tabs"

# ------------------------------------------------------------------
#  Phase 1 – Lexical‑only rules (precondition: L0_Lexer)
# ------------------------------------------------------------------
#  Additional whitespace / spacing rules
- id: "SPC-021"
  description: "Space before colon in text"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "remove_space"
- id: "SPC-022"
  description: "Tab after bullet in itemize environment"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: "convert_tabs"
- id: "SPC-023"
  description: "Hard space (U+00A0) outside French punctuation context"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: null
- id: "SPC-024"
  description: "Leading spaces on blank line"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "delete_line"
- id: "SPC-025"
  description: "Space before ellipsis \\dots"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "remove_space"
- id: "SPC-026"
  description: "Mixed indentation width within same list level"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null
- id: "SPC-027"
  description: "Trailing whitespace inside \\url{} argument"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "trim_url"
- id: "SPC-028"
  description: "Multiple ~ non‑breaking spaces in a row"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "collapse_nbsp"
- id: "SPC-029"
  description: "Indentation uses non‑breaking spaces"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "replace_space"
- id: "SPC-030"
  description: "Line starts with full‑width space U+3000"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "remove_char"

# ------------------------------------------------------------------
#  Verbatim / code environment lexical rules
# ------------------------------------------------------------------
- id: "STRUCT-001"
  description: "Section level jumps more than one (e.g. section → subsubsection)"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@structure"
  fix: null
- id: "STRUCT-002"
  description: "Section with no content"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@structure"
  fix: null
- id: "STRUCT-003"
  description: "Subsection immediately followed by subsubsection without text"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null
- id: "STRUCT-004"
  description: "Duplicate section titles"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@structure"
  fix: null
- id: "STRUCT-005"
  description: "Unnumbered section referenced with \\ref"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@structure"
  fix: null
- id: "STRUCT-006"
  description: "Section level deeper than \\paragraph"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null
- id: "STRUCT-007"
  description: "Section heading ends with punctuation"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STRUCT-008"
  description: "Appendix section before \\appendix command"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@structure"
  fix: "insert_appendix"
- id: "STRUCT-009"
  description: "More than two consecutive sectionless paragraphs"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null

# ------------------------------------------------------------------
#  Table rules
# ------------------------------------------------------------------
- id: "STRUCT-010"
  description: "Chapter length imbalance > 3×"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-001"
  description: "Inconsistent Oxford comma usage"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
# … STYLE‑002 … STYLE‑040 identical (TYPO‑050 duplicate removed)

# -------------------- Chemistry‑specific rules ----------------------
- id: "STYLE-002"
  description: "Mixed UK and US spelling"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-003"
  description: "Passive voice over 20 % of sentences"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-004"
  description: "Paragraph exceeds 300 words"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-005"
  description: "First‑person pronoun 'we' inconsistent"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-006"
  description: "Consecutive sentences start with same word"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-007"
  description: "Bullet list items inconsistent punctuation"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-008"
  description: "Sentence starts with mathematical symbol"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-009"
  description: "Citation style mixes parenthetical and narrative"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-010"
  description: "First person singular 'I' in multi‑author paper"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-011"
  description: "Hyphen vs en‑dash inconsistency in ranges"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-012"
  description: "That/which relative clause misuse"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-013"
  description: "Sentence starts with numeric figure"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-014"
  description: "Contraction (don't, isn't) in formal text"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-015"
  description: "Double space after period"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: "collapse_spaces"
- id: "STYLE-016"
  description: "Latin abbreviations (e.g., i.e., etc.) without comma"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-017"
  description: "Sentence exceeding 40 words"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-018"
  description: "Dangling reference word 'this'"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-019"
  description: "Multiple consecutive headings without text"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-020"
  description: "Acronym defined but never used"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-021"
  description: "Acronym used before definition"
  precondition: L4_Style
  default_severity: Warning
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-022"
  description: "Serial comma missing in three‑item list"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-023"
  description: "Percent sign in text not escaped"
  precondition: L4_Style
  default_severity: Warning
  maturity: Draft
  owner: "@style‑council"
  fix: "escape_percent"
- id: "STYLE-024"
  description: "Ampersand in author list not escaped \\&"
  precondition: L4_Style
  default_severity: Warning
  maturity: Draft
  owner: "@style‑council"
  fix: "escape_ampersand"
- id: "STYLE-025"
  description: "Run‑on sentence detected"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-026"
  description: "Repeated word (the the)"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-027"
  description: "Overuse of adverbs (-ly >5 % of words)"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-028"
  description: "Equation referenced without adjoining punctuation"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-029"
  description: "First‑person plural 'we' not defined (author vs generic)"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-030"
  description: "Subheading capitalisation inconsistent"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-031"
  description: "Heading number without title"
  precondition: L4_Style
  default_severity: Warning
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-032"
  description: "Bullet list mixed sentence‑case and title‑case"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-033"
  description: "Space before citation bracket"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: "remove_space"
- id: "STYLE-034"
  description: "Orphan word at paragraph end (1‑2 letters)"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-035"
  description: "Text uses slash for 'and/or'"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-036"
  description: "Latin phrase (cf., ibid.) not italicised"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-037"
  description: "Sentence starts with conjunction 'And' or 'But'"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-038"
  description: "Footnote paragraph exceeds 80 words"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-039"
  description: "Figure captions inconsistent ending punctuation"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "STYLE-040"
  description: "Exclamation mark in academic prose"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null

# ------------------------------------------------------------------
#  Accessibility rules
# ------------------------------------------------------------------
- id: "TAB-001"
  description: "Table has no caption"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@table‑crew"
  fix: null
# … TAB‑002 … TAB‑010 identical

# ---------------------- Figure rules (FIG‑001…020) ------------------
- id: "TAB-002"
  description: "Caption below table in journal style requiring above"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@table‑crew"
  fix: null
- id: "TAB-003"
  description: "Column spec lacks decimal alignment in tabular"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@table‑crew"
  fix: null

# ------------------------------------------------------------------
#  Phase 3 – Semantic rules (precondition: L3_Semantics)
# ------------------------------------------------------------------
- id: "TAB-004"
  description: "Table width exceeds \\textwidth"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null
- id: "TAB-005"
  description: "Vertical rules present in tabular"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@table‑crew"
  fix: null
- id: "TAB-006"
  description: "Horizontal lines \\hline double‑stacked"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@table‑crew"
  fix: null
- id: "TAB-007"
  description: "Text in numeric column not \\multicolumn"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@table‑crew"
  fix: null
- id: "TAB-008"
  description: "More than 30 rows in single table – suggest longtable"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@table‑crew"
  fix: null
- id: "TAB-009"
  description: "Table floating without \\label"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@table‑crew"
  fix: null
- id: "TAB-010"
  description: "Footnote inside table environment"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@table‑crew"
  fix: null

# ------------------------------------------------------------------
#  Figure rules
# ------------------------------------------------------------------
- id: "TIKZ-001"
  description: "TikZ picture declared outside figure environment"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@tikz"
  fix: null
# … TIKZ‑002 … TIKZ‑010 identical

# ------------------- LaTeX3 / expl3 compatibility -------------------
- id: "TIKZ-002"
  description: "TikZ compile time > 5 s"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@tikz"
  fix: null
- id: "TIKZ-003"
  description: "pgfplots axis labels not in math mode"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@tikz"
  fix: null
- id: "TIKZ-004"
  description: "Hard‑coded RGB values instead of xcolor names"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@tikz"
  fix: null
- id: "TIKZ-005"
  description: "TikZ externalisation not enabled for large figures"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@tikz"
  fix: null
- id: "TIKZ-006"
  description: "Missing \\caption in tikzpicture inside figure"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@tikz"
  fix: null
- id: "TIKZ-007"
  description: "TikZ load order after hyperref"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@tikz"
  fix: "reorder_packages"
- id: "TIKZ-008"
  description: "Uncompressed pdf images generated by TikZ"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@tikz"
  fix: null
- id: "TIKZ-009"
  description: "TikZ library arrows.meta missing for arrow tips"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@tikz"
  fix: null
- id: "TIKZ-010"
  description: "Deprecated \\pgfplotsset key used"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@tikz"
  fix: null

# ------------------------------------------------------------------
#  Additional script rules
# ------------------------------------------------------------------
- id: "TYPO-001"
  description: "ASCII straight quotes (\" … \") must be curly quotes"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: "auto_replace"
- id: "TYPO-002"
  description: "Double hyphen -- should be en‑dash –"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "auto_replace"
- id: "TYPO-003"
  description: "Triple hyphen --- should be em‑dash —"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "auto_replace"
- id: "TYPO-004"
  description: "TeX double back‑tick ``…'' not allowed; use opening curly quotes"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "auto_replace"
- id: "TYPO-005"
  description: "Ellipsis as three periods ...; use \\dots"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "auto_replace"
- id: "TYPO-006"
  description: "Tab character U+0009 forbidden"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: null
- id: "TYPO-007"
  description: "Trailing spaces at end of line"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "strip_whitespace"
- id: "TYPO-008"
  description: "Multiple consecutive blank lines (>2) in source"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "collapse_blank_lines"
- id: "TYPO-009"
  description: "Non‑breaking space ~ used incorrectly at line start"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: null
- id: "TYPO-010"
  description: "Space before punctuation , . ; : ? !"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "remove_space"

# …
# (Rules TYPO‑011 … TYPO‑050 omitted *only in this message*; they
#  follow immediately in Part 2.  No rule is skipped.)
# ------------------------------------------------------------------
#  Encoding & control‑character rules
# ------------------------------------------------------------------
- id: "TYPO-011"
  description: "Missing thin space (\,) before differential d in integrals"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "TYPO-012"
  description: "Straight apostrophe ' used for minutes/feet; use ^\\prime or ′"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "auto_replace"
- id: "TYPO-013"
  description: "Ascii backtick ` used as opening quote"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "auto_replace"
- id: "TYPO-014"
  description: "Space before percent sign \\%"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "remove_space"
- id: "TYPO-015"
  description: "Double \\% in source; likely stray percent"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: null
- id: "TYPO-016"
  description: "Non‑breaking space ~ missing before \\cite / \\ref"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "insert_nbsp"
- id: "TYPO-017"
  description: "TeX accent commands (\\'{e}) in text; prefer UTF‑8 é"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "auto_utf8"
- id: "TYPO-018"
  description: "Multiple consecutive spaces in text"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "collapse_spaces"
- id: "TYPO-019"
  description: "Comma splice detected: missing conjunction after comma"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "TYPO-020"
  description: "Sentence without ending punctuation"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "TYPO-021"
  description: "Capital letter after ellipsis without space"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "insert_space"
- id: "TYPO-022"
  description: "Space before closing punctuation ) ] }"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "remove_space"
- id: "TYPO-023"
  description: "ASCII ampersand & outside tabular env; use \\&"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: "escape_ampersand"
- id: "TYPO-024"
  description: "Dangling dash at line end"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: null
- id: "TYPO-025"
  description: "Space before en‑dash in number range"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "remove_space"
- id: "TYPO-026"
  description: "Wrong dash in page range – should use --"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "auto_replace"
- id: "TYPO-027"
  description: "Multiple exclamation marks ‼"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "TYPO-028"
  description: "Use of ``$$'' display math delimiter"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@math‑rules"
  fix: "replace_with_equation"
- id: "TYPO-029"
  description: "Non‑breaking space after \\ref missing"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "insert_nbsp"
- id: "TYPO-030"
  description: "UK spelling inconsistency detected"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "TYPO-031"
  description: "American punctuation placement inside quotes"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "TYPO-032"
  description: "Comma before \\cite"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: null
- id: "TYPO-033"
  description: "Abbreviation et.al without space"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "insert_space"
- id: "TYPO-034"
  description: "Spurious space before footnote command \\footnote"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "remove_space"
- id: "TYPO-035"
  description: "French punctuation requires nbsp before ; : ! ?"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: "insert_nbsp"
- id: "TYPO-036"
  description: "Suspicious consecutive capitalised words (shouting)"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "TYPO-037"
  description: "Space before comma"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "remove_space"
- id: "TYPO-038"
  description: "E‑mail address not in \\href"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "wrap_href"
- id: "TYPO-039"
  description: "URL split across lines without \\url{}"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "wrap_url"
- id: "TYPO-040"
  description: "Math in text mode $...$ exceeds 80 chars"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "TYPO-041"
  description: "Incorrect spacing around \\ldots ..."
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "TYPO-042"
  description: "Multiple consecutive question marks ??"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "TYPO-043"
  description: "Smart quotes inside verbatim detected"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: null
- id: "TYPO-044"
  description: "Acronym not defined on first use"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null
- id: "TYPO-045"
  description: "Non‑ASCII punctuation in math mode (e.g. ‘ ’ “ ”)"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "TYPO-046"
  description: "Use of \$begin:math:text$ ... \\$end:math:text$ inline math instead of $ ... $"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@math‑rules"
  fix: null
- id: "TYPO-047"
  description: "Starred section command \\section* used in numbered context"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null
- id: "TYPO-048"
  description: "En‑dash used as minus sign in text"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: null
- id: "TYPO-049"
  description: "Space after opening quote"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: "remove_space"
- id: "TYPO-050"
  description: "Title‑case choice inconsistent within document"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style‑council"
  fix: null

# ------------------------------------------------------------------
#  Phase 1 – Lexical‑only rules (precondition: L0_Lexer)
# ------------------------------------------------------------------
- id: "VERB-001"
  description: "\\verb delimiter reused inside same verb block"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@code‑crew"
  fix: null
# … (VERB‑002 … VERB‑010 identical to original list)

# ---------------------- Command naming rules -----------------------
- id: "VERB-002"
  description: "Tab inside verbatim – discouraged"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@code‑crew"
  fix: "convert_tabs"
- id: "VERB-003"
  description: "Trailing spaces inside verbatim"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@code‑crew"
  fix: null
- id: "VERB-004"
  description: "Non‑ASCII quotes inside verbatim"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@code‑crew"
  fix: null
- id: "VERB-005"
  description: "Long verbatim > 120 chars on one line"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@code‑crew"
  fix: null
- id: "VERB-006"
  description: "Inline verb \\verb used for multiline content"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@code‑crew"
  fix: "suggest_verbatim_env"
- id: "VERB-007"
  description: "Nested verbatim environment"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@code‑crew"
  fix: null
- id: "VERB-008"
  description: "`lstlisting` uses language=none"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@code‑crew"
  fix: null
- id: "VERB-009"
  description: "Missing caption in minted code block"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@code‑crew"
  fix: null
- id: "VERB-010"
  description: "Inline code uses back‑ticks (`) instead of \\verb"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@code‑crew"
  fix: "convert_to_verb"

# ------------------------------------------------------------------
#  Command naming / usage lexical rules
# ------------------------------------------------------------------
- id: "VERB-011"
  description: "lstlisting language unknown"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@code‑crew"
  fix: null
- id: "VERB-012"
  description: "minted block missing autogobble option"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@code‑crew"
  fix: null
- id: "VERB-013"
  description: "Code line > 120 glyphs"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@code‑crew"
  fix: null
- id: "VERB-014"
  description: "Code block inside caption"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@code‑crew"
  fix: null
- id: "VERB-015"
  description: "Verbatim uses catcode changes instead of \\verb"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@code‑crew"
  fix: null

# ---------------------- Document metadata ---------------------------