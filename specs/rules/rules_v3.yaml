# =====================================================================
#  rules.yaml  •  LaTeX Perfectionist v25  •  623 rules
#  Generated 27 Jul 2025  •  © Lint‑Team
# =====================================================================

# ----------------------------------------------------------------
#  Phase 0 – reserved / future‑use families  •  PDF‑001 → PDF‑004
# ----------------------------------------------------------------
- id: "PDF-001"
  description: "⟦reserved⟧ Future PDF/A colour‑profile conformity check"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Reserved
  owner: "@meta"
  fix: null

- id: "PDF-002"
  description: "⟦reserved⟧ Future PDF/UA tagging depth validation"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Reserved
  owner: "@meta"
  fix: null

- id: "PDF-003"
  description: "⟦reserved⟧ Future PDF/X object isolation audit"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Reserved
  owner: "@meta"
  fix: null

- id: "PDF-004"
  description: "⟦reserved⟧ Future PDF logical‑reading‑order check"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Reserved
  owner: "@meta"
  fix: null



# ------------------------------------------------------------------
#  Phase 0 – reserved / future‑use families  •  CHAR‑001 → CHAR‑004
# ------------------------------------------------------------------
- id: "CHAR-001"
  description: "⟦reserved⟧ Future Unicode grapheme‑cluster validator"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Reserved
  owner: "@lint-team"
  fix: null

- id: "CHAR-002"
  description: "⟦reserved⟧ Future extended‑Bidi isolation audit"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Reserved
  owner: "@lint-team"
  fix: null

- id: "CHAR-003"
  description: "⟦reserved⟧ Future directionality‑mark context check"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Reserved
  owner: "@lint-team"
  fix: null

- id: "CHAR-004"
  description: "⟦reserved⟧ Future private‑use (U+E000–F8FF) policy rule"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Reserved
  owner: "@lint-team"
  fix: null



# ------------------------------------------------------------------
#  Phase 0 – reserved / future‑use families  •  MATH‑001 → MATH‑008
# ------------------------------------------------------------------
- id: "MATH-001"
  description: "⟦reserved⟧ Future MathML accessibility‑tagging rule"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Reserved
  owner: "@math-rules"
  fix: null

- id: "MATH-002"
  description: "⟦reserved⟧ Future AMS‑align column‑optimiser"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Reserved
  owner: "@math-rules"
  fix: null

- id: "MATH-003"
  description: "⟦reserved⟧ Future Unicode‑math range conformity check"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Reserved
  owner: "@math-rules"
  fix: null

- id: "MATH-004"
  description: "⟦reserved⟧ Future semantic‑macro embedding audit"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Reserved
  owner: "@math-rules"
  fix: null

- id: "MATH-005"
  description: "⟦reserved⟧ Future ISO 80000 quantity–unit spacing rule"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Reserved
  owner: "@math-rules"
  fix: null

- id: "MATH-006"
  description: "⟦reserved⟧ Future bra–ket spacing (quantum‑style) rule"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Reserved
  owner: "@math-rules"
  fix: null

- id: "MATH-007"
  description: "⟦reserved⟧ Future Newton‑dot accent vertical‑alignment test"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Reserved
  owner: "@math-rules"
  fix: null

- id: "MATH-008"
  description: "⟦reserved⟧ Future variable‑size integral consistency check"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Reserved
  owner: "@math-rules"
  fix: null



# -------------------------------------------------------------------------------
#  Phase 1 – Lexical‑only rules (precondition: L0_Lexer)  •  TYPO‑001 → TYPO‑063
# -------------------------------------------------------------------------------
- id: "TYPO-001"
  description: "ASCII straight quotes (\" … \") must be curly quotes"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: auto_replace

- id: "TYPO-002"
  description: "Double hyphen -- should be en‑dash –"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: auto_replace

- id: "TYPO-003"
  description: "Triple hyphen --- should be em‑dash —"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: auto_replace

- id: "TYPO-004"
  description: "TeX double back‑tick ``…'' not allowed; use opening curly quotes"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: auto_replace

- id: "TYPO-005"
  description: "Ellipsis typed as three periods ...; use \\dots"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: auto_replace

- id: "TYPO-006"
  description: "Tab character U+0009 forbidden"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: null

- id: "TYPO-007"
  description: "Trailing spaces at end of line"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: strip_whitespace

- id: "TYPO-008"
  description: "Multiple consecutive blank lines (> 2) in source"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: collapse_blank_lines

- id: "TYPO-009"
  description: "Non‑breaking space ~ used incorrectly at line start"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: null

- id: "TYPO-010"
  description: "Space before punctuation , . ; : ? !"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: remove_space

- id: "TYPO-011"
  description: "Missing thin space (\\,) before differential d in integrals"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "TYPO-012"
  description: "Straight apostrophe ' used for minutes/feet; use ^\\prime or ′"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: auto_replace

- id: "TYPO-013"
  description: "ASCII back‑tick ` used as opening quote"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: auto_replace

- id: "TYPO-014"
  description: "Space before percent sign \\%"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: remove_space

- id: "TYPO-015"
  description: "Double \\% in source; likely stray percent"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: null

- id: "TYPO-016"
  description: "Non‑breaking space ~ missing before \\cite / \\ref"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: insert_nbsp

- id: "TYPO-017"
  description: "TeX accent commands (\\'{e}) in text; prefer UTF‑8 é"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: auto_utf8

- id: "TYPO-018"
  description: "Multiple consecutive spaces in text"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: collapse_spaces

- id: "TYPO-019"
  description: "Comma splice detected: missing conjunction after comma"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "TYPO-020"
  description: "Sentence without ending punctuation"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "TYPO-021"
  description: "Capital letter after ellipsis without space"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: insert_space

- id: "TYPO-022"
  description: "Space before closing punctuation ) ] }"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: remove_space

- id: "TYPO-023"
  description: "ASCII ampersand & outside tabular env; use \\&"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: escape_ampersand

- id: "TYPO-024"
  description: "Dangling dash at line end"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: null

- id: "TYPO-025"
  description: "Space before en‑dash in number range"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: remove_space

- id: "TYPO-026"
  description: "Wrong dash in page range – should use --"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: auto_replace

- id: "TYPO-027"
  description: "Multiple exclamation marks ‼"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "TYPO-028"
  description: "Use of ``$$'' display math delimiter"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@math-rules"
  fix: replace_with_equation

- id: "TYPO-029"
  description: "Non‑breaking space after \\ref missing"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: insert_nbsp

- id: "TYPO-030"
  description: "UK spelling inconsistency detected"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "TYPO-031"
  description: "American punctuation placement inside quotes"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "TYPO-032"
  description: "Comma before \\cite"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: null

- id: "TYPO-033"
  description: "Abbreviation et.al without space"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: insert_space

- id: "TYPO-034"
  description: "Spurious space before footnote command \\footnote"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: remove_space

- id: "TYPO-035"
  description: "French punctuation requires NBSP before ; : ! ?"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: insert_nbsp

- id: "TYPO-036"
  description: "Suspicious consecutive capitalised words (shouting)"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "TYPO-037"
  description: "Space before comma"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: remove_space

- id: "TYPO-038"
  description: "E‑mail address not in \\href"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: wrap_href

- id: "TYPO-039"
  description: "URL split across lines without \\url{}"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: wrap_url

- id: "TYPO-040"
  description: "Math in text mode $…$ exceeds 80 characters"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "TYPO-041"
  description: "Incorrect spacing around \\ldots"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "TYPO-042"
  description: "Multiple consecutive question marks ??"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "TYPO-043"
  description: "Smart quotes inside verbatim detected"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: null

- id: "TYPO-044"
  description: "Acronym not defined on first use"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "TYPO-045"
  description: "Non‑ASCII punctuation in math mode (‘ ’ “ ”)"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "TYPO-046"
  description: "Use of $begin:math:text$ … $end:math:text$ instead of $…$"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "TYPO-047"
  description: "Starred \\section* used where numbered section expected"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null

- id: "TYPO-048"
  description: "En‑dash used as minus sign in text"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: null

- id: "TYPO-049"
  description: "Space after opening quote"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: remove_space

- id: "TYPO-050"
  description: "Inconsistent title‑case capitalisation"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "TYPO-051"
  description: "Figure space U+2009 used instead of \\thinspace macro"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: replace_with_macro

- id: "TYPO-052"
  description: "Unescaped < or > in text; use \\textless / \\textgreater"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: escape_angle

- id: "TYPO-053"
  description: "Unicode ⋯ (U+22EF) leader forbidden; use \\dots instead"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: auto_replace

- id: "TYPO-054"
  description: "Hair‑space required after en‑dash in word–word ranges"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: insert_thinspace

- id: "TYPO-055"
  description: "Consecutive thin‑spaces (\\,\\,) prohibited; collapse"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: collapse_spaces

- id: "TYPO-056"
  description: "Legacy TeX accents present despite UTF‑8 input"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: auto_utf8

- id: "TYPO-057"
  description: "Missing thin‑space before °C/°F or \\si{\\celsius}"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "TYPO-058"
  description: "Greek homograph letters used in Latin words (ϲ,ɑ,ᴦ…)"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: replace_ascii

- id: "TYPO-059"
  description: "Punctuation inside math must be typed with spacing macros"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "TYPO-060"
  description: "Smart quotes present inside \\lstlisting / verbatim environments"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@code-crew"
  fix: null

- id: "TYPO-061"
  description: "Unicode × (U+00D7) in text; prefer \\times via math mode"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: auto_replace

- id: "TYPO-062"
  description: "Literal backslash in text; use \\textbackslash"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: escape_backslash

- id: "TYPO-063"
  description: "Non‑breaking hyphen U+2011 found inside URL"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: replace_char



# ------------------------------------------------------------
#  Phase 1 – Whitespace / spacing rules  •  SPC‑001 → SPC‑035
# ------------------------------------------------------------
- id: "SPC-001"
  description: "Line longer than 120 characters"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: null

- id: "SPC-002"
  description: "Line containing only whitespace"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: delete_line

- id: "SPC-003"
  description: "Hard tab precedes non‑tab text (mixed indent)"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: convert_tabs

- id: "SPC-004"
  description: "Carriage return U+000D without LF"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: normalize_line_endings

- id: "SPC-005"
  description: "Trailing tab at end of line"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: convert_tabs

- id: "SPC-006"
  description: "Indentation mixes spaces and tabs"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: convert_tabs

- id: "SPC-007"
  description: "Three or more consecutive blank lines"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: collapse_blank_lines

- id: "SPC-008"
  description: "Paragraph starts with whitespace"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: remove_space

- id: "SPC-009"
  description: "Non‑breaking space ~ at line start"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: replace_space

- id: "SPC-010"
  description: "Sentence spacing uses two spaces after period"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: collapse_spaces

- id: "SPC-011"
  description: "Space before newline inside $$…$$ display"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: remove_space

- id: "SPC-012"
  description: "BOM not at file start"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: remove_bom

- id: "SPC-013"
  description: "Whitespace‑only paragraph"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: delete_line

- id: "SPC-014"
  description: "Mixed LF and CRLF within paragraph"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: normalize_line_endings

- id: "SPC-015"
  description: "Indentation exceeds 8 spaces"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: null

- id: "SPC-016"
  description: "Space before semicolon"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: remove_space

- id: "SPC-017"
  description: "Missing thin space before units (e.g. 5 cm)"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "SPC-018"
  description: "No space after sentence‑ending period"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: insert_space

- id: "SPC-019"
  description: "Trailing full‑width space U+3000 at line end"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: remove_char

- id: "SPC-020"
  description: "Tab character inside math mode"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: convert_tabs

- id: "SPC-021"
  description: "Space before colon"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: remove_space

- id: "SPC-022"
  description: "Tab after bullet in \\itemize"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: convert_tabs

- id: "SPC-023"
  description: "Hard space U+00A0 outside French punctuation context"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: null

- id: "SPC-024"
  description: "Leading spaces on blank line"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: delete_line

- id: "SPC-025"
  description: "Space before ellipsis \\dots"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: remove_space

- id: "SPC-026"
  description: "Mixed indentation width at same list depth"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null

- id: "SPC-027"
  description: "Trailing whitespace inside \\url{}"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: trim_url

- id: "SPC-028"
  description: "Multiple consecutive ~ NBSPs"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: collapse_nbsp

- id: "SPC-029"
  description: "Indentation uses NBSP characters"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: replace_space

- id: "SPC-030"
  description: "Line starts with full‑width space U+3000"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: remove_char

- id: "SPC-031"
  description: "Three spaces after period"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: collapse_spaces

- id: "SPC-032"
  description: "Paragraph indented with mix of NBSP and space"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: replace_space

- id: "SPC-033"
  description: "No‑break space before em‑dash in English text forbidden"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: replace_space

- id: "SPC-034"
  description: "Thin‑space before en‑dash in command‑line flags removed"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: remove_space

- id: "SPC-035"
  description: "Leading thin‑space U+2009 at start of line"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: remove_char



# --------------------------------------------------------------------
#  Phase 1 – Encoding & control‑character rules  •  ENC‑001 → ENC‑024
# --------------------------------------------------------------------
- id: "ENC-001"
  description: "Non‑UTF‑8 byte sequence detected"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: null

- id: "ENC-002"
  description: "Byte‑order mark U+FEFF present in middle of file"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: remove_bom

- id: "ENC-003"
  description: "LATIN‑1 smart quotes detected"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: auto_utf8

- id: "ENC-004"
  description: "Windows‑1252 characters (– — …) outside UTF‑8"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: auto_utf8

- id: "ENC-005"
  description: "Invalid UTF‑8 continuation byte"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: null

- id: "ENC-006"
  description: "Overlong UTF‑8 encoding sequence"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: null

- id: "ENC-007"
  description: "Zero‑width space U+200B present"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: remove_char

- id: "ENC-008"
  description: "Private‑use codepoint detected"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: null

- id: "ENC-009"
  description: "Unpaired surrogate code unit"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: null

- id: "ENC-010"
  description: "Non‑canonical NFC form"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: normalize_nfc

- id: "ENC-011"
  description: "Byte sequence resembles MacRoman encoding"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: auto_utf8

- id: "ENC-012"
  description: "C1 control characters U+0080–009F present"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: null

- id: "ENC-013"
  description: "Mixed CRLF and LF line endings"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: normalize_line_endings

- id: "ENC-014"
  description: "UTF‑16 byte‑order mark present"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: remove_bom

- id: "ENC-015"
  description: "Non‑NFKC homoglyph character (Greek μ vs µ)"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: normalize_nfkc

- id: "ENC-016"
  description: "Arabic numerals replaced by Unicode look‑alikes"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: replace_ascii_digits

- id: "ENC-017"
  description: "Soft hyphen U+00AD found in source"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: remove_char

- id: "ENC-018"
  description: "Non‑breaking hyphen U+2011 present outside URLs"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: null

- id: "ENC-019"
  description: "Duplicate combining accents on same base glyph"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: normalize_nfc

- id: "ENC-020"
  description: "Invisible formatting mark U+200E/U+200F present"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: remove_char

- id: "ENC-021"
  description: "WORD JOINER U+2060 present"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: remove_char

- id: "ENC-022"
  description: "Interlinear annotation chars U+FFF9–FFFB detected"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: remove_char

- id: "ENC-023"
  description: "NARROW NB‑SPACE U+202F outside French context"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: replace_space

- id: "ENC-024"
  description: "Bidirectional embeddings U+202A–U+202E present"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: remove_char



# -------------------------------------------
#  Control‑character  •  CHAR‑005 → CHAR‑022
# -------------------------------------------
- id: "CHAR-005"
  description: "Control characters U+0000–001F present"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: null

- id: "CHAR-006"
  description: "Backspace U+0008 present"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: remove_char

- id: "CHAR-007"
  description: "Bell/alert U+0007 present"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: remove_char

- id: "CHAR-008"
  description: "Form feed U+000C present"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: remove_char

- id: "CHAR-009"
  description: "Delete U+007F present"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: remove_char

- id: "CHAR-010"
  description: "Right‑to‑left mark U+200F outside RTL context"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: null

- id: "CHAR-011"
  description: "Left‑to‑right mark U+200E unnecessary"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: null

- id: "CHAR-012"
  description: "Zero‑width joiner U+200D outside ligature context"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: remove_char

- id: "CHAR-013"
  description: "Bidirectional isolate chars U+2066–U+2069 present"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: remove_char

- id: "CHAR-014"
  description: "Unicode replacement � found – decoding error"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: null

- id: "CHAR-015"
  description: "Emoji detected in source"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "CHAR-016"
  description: "Double‑width CJK punctuation in ASCII context"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: null

- id: "CHAR-017"
  description: "Full‑width Latin letters detected"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: replace_ascii_fullwidth

- id: "CHAR-018"
  description: "Deprecated ligature ﬀ/ﬁ/ﬂ characters present"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: replace_with_ascii

- id: "CHAR-019"
  description: "Unicode minus U+2212 in text mode"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@lint-team"
  fix: auto_replace

- id: "CHAR-020"
  description: "Sharp S ß in uppercase context – suggest SS"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "CHAR-021"
  description: "Zero‑width no‑break space U+FEFF inside paragraph"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: remove_char

- id: "CHAR-022"
  description: "Deprecated tag characters U+E0000–E007F present"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: remove_char



# -------------------------------------------------------------------
#  Verbatim / code‑environment lexical rules  •  VERB‑001 → VERB‑017
# -------------------------------------------------------------------
- id: "VERB-001"
  description: "\\verb delimiter reused inside same \\verb block"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@code-crew"
  fix: null

- id: "VERB-002"
  description: "Tab inside verbatim – discouraged"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@code-crew"
  fix: convert_tabs

- id: "VERB-003"
  description: "Trailing spaces inside verbatim"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@code-crew"
  fix: null

- id: "VERB-004"
  description: "Non‑ASCII quotes inside verbatim"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@code-crew"
  fix: null

- id: "VERB-005"
  description: "Verbatim line > 120 characters"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@code-crew"
  fix: null

- id: "VERB-006"
  description: "Inline \\verb used for multiline content"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@code-crew"
  fix: suggest_verbatim_env

- id: "VERB-007"
  description: "Nested verbatim environment"
  precondition: L0_Lexer
  default_severity: Error
  maturity: Draft
  owner: "@code-crew"
  fix: null

- id: "VERB-008"
  description: "`lstlisting` uses language=none"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@code-crew"
  fix: null

- id: "VERB-009"
  description: "Missing caption in `minted` code block"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@code-crew"
  fix: null

- id: "VERB-010"
  description: "Inline code uses back‑ticks instead of \\verb"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@code-crew"
  fix: convert_to_verb

- id: "VERB-011"
  description: "Unknown `lstlisting` language"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@code-crew"
  fix: null

- id: "VERB-012"
  description: "`minted` block missing autogobble"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@code-crew"
  fix: null

- id: "VERB-013"
  description: "Code line > 120 glyphs"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@code-crew"
  fix: null

- id: "VERB-014"
  description: "Code block inside caption"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@code-crew"
  fix: null

- id: "VERB-015"
  description: "Verbatim uses catcode changes instead of \\verb"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@code-crew"
  fix: null

- id: "VERB-016"
  description: "`minted` without `escapeinside` while containing back‑ticks"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@code-crew"
  fix: null

- id: "VERB-017"
  description: "`minted` lacks `linenos` in code block > 20 lines"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@code-crew"
  fix: null



# ------------------------------------------------------------
#  Command‑naming / usage lexical rules  •  CMD‑001 → CMD‑014
# ------------------------------------------------------------
- id: "CMD-001"
  description: "Command \\newcommand defined but never used"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null

- id: "CMD-002"
  description: "Command redefined with \\def instead of \\renewcommand"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@structure"
  fix: suggest_renewcommand

- id: "CMD-003"
  description: "User macro name clashes with package macro"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@pkg-lint"
  fix: null

- id: "CMD-004"
  description: "CamelCase command names discouraged"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "CMD-005"
  description: "Single‑letter macro created (\\x)"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@structure"
  fix: null

- id: "CMD-006"
  description: "Macro defined inside document body"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null

- id: "CMD-007"
  description: "Optional argument not used inside definition body"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null

- id: "CMD-008"
  description: "Macro uses \\@ in name outside maketitle context"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@structure"
  fix: null

- id: "CMD-009"
  description: "Macro name contains digits"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null

- id: "CMD-010"
  description: "More than three successive macro renewals"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null

- id: "CMD-011"
  description: "Macro defined with \\def/\\edef in preamble without \\makeatletter guard"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@structure"
  fix: suggest_makeatletter

- id: "CMD-012"
  description: "\\renewcommand\\thesection redefined after hyperref — bookmark mismatch"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@structure"
  fix: null

- id: "CMD-013"
  description: "\\def\\arraystretch declared inside document body"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null

- id: "CMD-014"
  description: "\\AtBeginDocument placed after \\begin{document}"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@structure"
  fix: null



# ----------------------------------------------------------
#  Post‑expansion delimiter rules  •  DELIM‑001 → DELIM‑011
# ----------------------------------------------------------
- id: "DELIM-001"
  description: "Unmatched delimiters { … } after macro expansion"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: null

- id: "DELIM-002"
  description: "Extra closing } detected"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@lint-team"
  fix: null

- id: "DELIM-003"
  description: "Unmatched \\left without \\right"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "DELIM-004"
  description: "Unmatched \\right without \\left"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "DELIM-005"
  description: "Mismatched parenthesis sizing (\\big vs \\Bigg)"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "DELIM-006"
  description: "\\big delimiters used outside display math"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "DELIM-007"
  description: "Angle bracket \\langle without matching \\rangle"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "DELIM-008"
  description: "Empty \\left. … \\right. pair — redundant"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "DELIM-009"
  description: "Nested delimiters: { … ( … ) … }"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "DELIM-010"
  description: "Display math uses \\big instead of \\Big"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "DELIM-011"
  description: "\\middle delimiter used without symmetric pair"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null



# ------------------------------------------
#  Math‑token rules  •  MATH‑009 → MATH‑108
# ------------------------------------------
- id: "MATH-009"
  description: "Bare ‘sin/log/exp’ in math; use \\sin, \\log, \\exp"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@lint-team"
  fix: auto_insert_backslash

- id: "MATH-010"
  description: "Division symbol ÷ used; prefer \\frac or solidus"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: suggest_frac

- id: "MATH-011"
  description: "Vector notation inconsistent within equation"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-012"
  description: "Multi‑letter function not in roman (\\operatorname{})"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: wrap_operatorname

- id: "MATH-013"
  description: "Differential d not typeset roman"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-014"
  description: "Inline \\frac in running text"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: suggest_tfrac

- id: "MATH-015"
  description: "\\stackrel used; prefer \\overset"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: replace_with_overset

- id: "MATH-016"
  description: "Nested subscripts without braces"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-017"
  description: "Mismatched \\left\\{ … \\right] pair"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-018"
  description: "π written numerically as 3.14"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-019"
  description: "Inline stacked ^_ order wrong"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-020"
  description: "Missing \\cdot between coefficient and vector"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-021"
  description: "Absolute value bars ‘|x|’ instead of \\lvert … \\rvert"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-022"
  description: "Bold math italic without \\bm or \\mathbf"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-023"
  description: "Equation label missing although referenced"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-024"
  description: "Equation labelled but never referenced"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-025"
  description: "align environment with one column – use equation"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: suggest_equation

- id: "MATH-026"
  description: "Overfull \\hbox in equation (compile log)"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "MATH-027"
  description: "Displayed equation exceeds page margins"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "MATH-028"
  description: "Array environment inside math lacks {c} alignment"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-029"
  description: "Use of eqnarray* instead of align*"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: auto_replace

- id: "MATH-030"
  description: "Overuse of \\displaystyle in inline math"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-031"
  description: "Operator spacing error: missing \\; before \\text"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-032"
  description: "Incorrect small matrix brackets"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: suggest_bmatrix

- id: "MATH-033"
  description: "Use of \\pm where ± symbol required in text"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-034"
  description: "Spacing before differential in integral missing \\,"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-035"
  description: "Multiple subscripts stacked vertically without braces"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-036"
  description: "Superfluous \\mathrm{} around single letter"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-037"
  description: "xfrac package fraction used outside text mode"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-038"
  description: "Nested \\frac three levels deep"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-039"
  description: "Stacked relational operators without \\atop"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-040"
  description: "Ellipsis \\ldots used between vertical alignment"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-041"
  description: "Integral limits written inline; use \\displaystyle \\int"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-042"
  description: "Missing \\, between numbers and units in math"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-043"
  description: "Use of \\text instead of \\operatorname for function"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: wrap_operatorname

- id: "MATH-044"
  description: "Binary relation typed as text char (e.g. < for \\le)"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: replace_with_symbol

- id: "MATH-045"
  description: "Math italic capital Greek without \\mathrm"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-046"
  description: "Ellipsis \\ldots used on relation axis; prefer \\cdots"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: suggest_cdots

- id: "MATH-047"
  description: "Double superscript without braces a^b^c"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-048"
  description: "Boldface digits via \\mathbf in math – avoid"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-049"
  description: "Spacing around \\times missing"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-050"
  description: "Circumflex accent ^\\hat on multi‑letter"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-051"
  description: "Radical \\sqrt nested two levels"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-052"
  description: "\\over brace used; prefer \\frac"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: suggest_frac

- id: "MATH-053"
  description: "Space after \\left( at line start"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: remove_space

- id: "MATH-054"
  description: "Equation labelled 'eq:' without environment"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-055"
  description: "Math font change \\mathcal for single character only"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-056"
  description: "\\operatorname duplicated for same function"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-057"
  description: "Empty fraction numerator or denominator"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-058"
  description: "Nested \\text inside \\text"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-059"
  description: "Math accent \\bar on group expression needs braces"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-060"
  description: "Differential d typeset italic"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-061"
  description: "Log base missing braces in \\log_10x"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: wrap_base_braces

- id: "MATH-062"
  description: "Multiline equation lacks alignment character &"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-063"
  description: "Equation array with > 1 alignment point"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-064"
  description: "Use of \\eqalign – obsolete"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: replace_with_align

- id: "MATH-065"
  description: "Manual spacing \\hspace in math detected"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-066"
  description: "\\phantom used; suggest \\hphantom or \\vphantom"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-067"
  description: "Stacked limits on non‑operator"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-068"
  description: "Spacing around \\mid missing"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-069"
  description: "Bold sans‑serif math font used"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-070"
  description: "Multiline subscripts lack \\substack"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-071"
  description: "Overuse of \\cancel in equations"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "MATH-072"
  description: "Unknown math operator name"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-073"
  description: "xcolor macro \\color used inside math"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "MATH-074"
  description: "TikZ node inside math without math mode set"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@tikz"
  fix: null

- id: "MATH-075"
  description: "Equation number suppressed with \\nonumber but referenced"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-076"
  description: "Equation split across pages without \\allowbreak"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "MATH-077"
  description: "Alignment point & outside alignment environment"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-078"
  description: "Long arrow typed as --> instead of \\longrightarrow"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: auto_replace

- id: "MATH-079"
  description: "\\displaystyle inside display math – redundant"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-080"
  description: "Equation exceeds 3 alignment columns"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-081"
  description: "Improper kerning f(x) – suggest f\\!\\left(x\\right)"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-082"
  description: "Negative thin space \\! misused twice consecutively"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-083"
  description: "Unicode minus inside text mode"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: replace_with_hyphen

- id: "MATH-084"
  description: "Displaystyle \\sum in inline math"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-085"
  description: "Use of \\eqcirc – rarely acceptable"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-086"
  description: "Nested root \\sqrt{\\sqrt{…}} depth > 2"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-087"
  description: "Maths uses fake bold via \\mathbf on digits"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-088"
  description: "Bare \\partial lacks thin‑space before/after"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-089"
  description: "\\left…\\right pair produces vertical gap > 1 ex"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "MATH-090"
  description: "Nested \\frac depth > 3 – suggest \\dfrac + \\smash"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-091"
  description: "\\operatorname{det} used – predefined \\det exists"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-092"
  description: "\\sum with explicit limits in inline math"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-093"
  description: "Multi‑letter italic variable should be \\mathit{}"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-094"
  description: "Manual \\kern in math detected – typographic smell"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-095"
  description: "Log base typeset without braces (\\log_10x)"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: wrap_base_braces

- id: "MATH-096"
  description: "Bold Greek via \\mathbf – use \\boldsymbol"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-097"
  description: "Arrow '=>' typed instead of \\implies"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: auto_replace

- id: "MATH-098"
  description: "Too many \\qquad (> 2) in single line"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "MATH-099"
  description: "Large operator (\\bigcup) used inline"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-100"
  description: "Punctuation after equation missing (comma/period)"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "MATH-101"
  description: "Deprecated \\over primitive used; replace with \\frac"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: replace_with_frac

- id: "MATH-102"
  description: "Legacy eqnarray (un‑starred) environment present"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: replace_with_align

- id: "MATH-103"
  description: "\\left…\\right pair shrinks baseline by > 5 %; suggest \\mathopen"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "MATH-104"
  description: "Paired delimiters repeated without \\DeclarePairedDelimiter"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-105"
  description: "\\textstyle used inside display math — redundant"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-106"
  description: "Misuse of \\not=; prefer \\neq"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: auto_replace

- id: "MATH-107"
  description: "Mix of \\le and \\leqslant within same document"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "MATH-108"
  description: "Scalar product uses • (⋅) directly; require \\cdot"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: auto_replace



# ---------------------------------------------
#  Cross‑reference rules  •  REF‑001 → REF‑012
# ---------------------------------------------
- id: "REF-001"
  description: "Undefined \\ref / \\eqref label after expansion"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@structure"
  fix: null

- id: "REF-002"
  description: "Duplicate label name"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@structure"
  fix: null

- id: "REF-003"
  description: "Label contains spaces"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@structure"
  fix: null

- id: "REF-004"
  description: "Label contains uppercase letters"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null

- id: "REF-005"
  description: "Label not prefixed fig:/tab:/eq:/sec:"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null

- id: "REF-006"
  description: "Page reference uses \\ref not \\pageref"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: suggest_pageref

- id: "REF-007"
  description: "Cite key contains whitespace"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@bib-team"
  fix: null

- id: "REF-008"
  description: "Duplicate cite key in .bib file"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@bib-team"
  fix: null

- id: "REF-009"
  description: "Reference appears before label definition (forward ref)"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null

- id: "REF-010"
  description: "Figure referenced before first mention in text"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "REF-011"
  description: "\\autoref used without hyperref/cleveref loaded"
  precondition: L2_Ast
  default_severity: Error
  maturity: Draft
  owner: "@structure"
  fix: insert_usepackage

- id: "REF-012"
  description: "Reference text ‘above/below’ contradicts float position"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null



# -------------------------------------------------------------
#  Script (super/sub‑script) rules  •  SCRIPT‑001 → SCRIPT‑022
# -------------------------------------------------------------
- id: "SCRIPT-001"
  description: "Multi‑char subscript without braces"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: wrap_in_braces

- id: "SCRIPT-002"
  description: "Superscript dash typed ‘‑’ not \\textsuperscript{--}"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "SCRIPT-003"
  description: "Comma‑separated superscripts lack braces"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "SCRIPT-004"
  description: "Subscript after prime notation mis‑ordered"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "SCRIPT-005"
  description: "Superscript uses letter l instead of \\ell"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: replace_with_ell

- id: "SCRIPT-006"
  description: "Degree symbol typed ° instead of ^\\circ"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: replace_with_circ

- id: "SCRIPT-007"
  description: "Subscript text not wrapped in \\text{}"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: wrap_text

- id: "SCRIPT-008"
  description: "Chemical formula lacks \\mathrm{} in subscript"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@chemistry"
  fix: null

- id: "SCRIPT-009"
  description: "Isotope superscript mass number missing"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@chemistry"
  fix: null

- id: "SCRIPT-010"
  description: "Use of \\limits on inline operator"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "SCRIPT-011"
  description: "Nested superscript three levels deep"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "SCRIPT-012"
  description: "Prime notation f''' (> 3) – prefer ^{(n)}"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "SCRIPT-013"
  description: "Plus/minus typed in subscript"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "SCRIPT-014"
  description: "Logarithm base subscript italic"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "SCRIPT-015"
  description: "Time derivative dot mis‑aligned"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "SCRIPT-016"
  description: "Prime on Greek letter typed '' not ^\\prime"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: replace_with_prime

- id: "SCRIPT-017"
  description: "Inconsistent order of sub/superscripts"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "SCRIPT-018"
  description: "Degree symbol in superscript without braces"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "SCRIPT-019"
  description: "Double prime '' instead of ^{\\prime\\prime}"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: replace_with_prime

- id: "SCRIPT-020"
  description: "Subscript text italic instead of \\mathrm"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "SCRIPT-021"
  description: "Sub‑sup order not canonical (a_{b}^{c} vs a^{c}_{b})"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "SCRIPT-022"
  description: "Superscript prime stacked > 3 – prefer ^{(n)}"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null



# -----------------------------------
#  Table rules  •  TAB‑001 → TAB‑016
# -----------------------------------
- id: "TAB-001"
  description: "Table lacks caption"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@table-crew"
  fix: null

- id: "TAB-002"
  description: "Caption below table (journal requires above)"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@table-crew"
  fix: null

- id: "TAB-003"
  description: "Decimal column not aligned on dot"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@table-crew"
  fix: null

- id: "TAB-004"
  description: "Table width exceeds \\textwidth"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "TAB-005"
  description: "Vertical rules present in tabular"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@table-crew"
  fix: null

- id: "TAB-006"
  description: "Consecutive \\hline duplicated"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@table-crew"
  fix: null

- id: "TAB-007"
  description: "Text in numeric column without \\multicolumn"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@table-crew"
  fix: null

- id: "TAB-008"
  description: "Table > 30 rows – suggest longtable/xtab"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@table-crew"
  fix: null

- id: "TAB-009"
  description: "Floating table missing \\label"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@table-crew"
  fix: null

- id: "TAB-010"
  description: "Footnote placed inside table environment"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@table-crew"
  fix: null

- id: "TAB-011"
  description: "Top/bottom \\hline instead of \\toprule/\\bottomrule"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@table-crew"
  fix: null

- id: "TAB-012"
  description: "Numeric column not aligned using siunitx S‑column"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@table-crew"
  fix: null

- id: "TAB-013"
  description: "Caption position for longtable must be at top per style"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@table-crew"
  fix: null

- id: "TAB-014"
  description: "Empty multicolumn alignment spec {} encountered"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@table-crew"
  fix: null

- id: "TAB-015"
  description: "\\multirow inside tabularx column X without raggedright"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@table-crew"
  fix: null

- id: "TAB-016"
  description: "Centred 'c' column in longtable holds ragged text"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@table-crew"
  fix: null



# ------------------------------------
#  Figure rules  •  FIG‑001 → FIG‑025
# ------------------------------------
- id: "FIG-001"
  description: "Figure without caption"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "FIG-002"
  description: "Figure without label"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "FIG-003"
  description: "Label before caption in figure"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "FIG-004"
  description: "Raster image exceeds 300 dpi"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@graphics"
  fix: null

- id: "FIG-005"
  description: "Figure width > \\linewidth"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "FIG-006"
  description: "Bitmap image with transparency channel"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@graphics"
  fix: null

- id: "FIG-007"
  description: "Figure lacks alt text for accessibility"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@access"
  fix: null

- id: "FIG-008"
  description: "TikZ figure compiled in draft mode"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@tikz"
  fix: null

- id: "FIG-009"
  description: "Float position specifier ! used excessively"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "FIG-010"
  description: "Subfigure environment without \\subcaption"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "FIG-011"
  description: "EPS graphic in pdfLaTeX run"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@graphics"
  fix: null

- id: "FIG-012"
  description: "Figure listed in LoF but not referenced"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "FIG-013"
  description: "Graphicx option scale used instead of width"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@graphics"
  fix: null

- id: "FIG-014"
  description: "Figure caption exceeds 300 characters"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "FIG-015"
  description: "Figure placed before first reference in text"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "FIG-016"
  description: "Raster image colour profile not sRGB"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@graphics"
  fix: null

- id: "FIG-017"
  description: "Sidewaysfigure used with portrait page layout"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "FIG-018"
  description: "Float distance from reference > 3 pages"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "FIG-019"
  description: "Subcaption label missing (a), (b)…"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "FIG-020"
  description: "Overfull \\hbox within figure caption"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "FIG-021"
  description: "Embedded bitmap > 20 MiB – PDF bloat"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@graphics"
  fix: null

- id: "FIG-022"
  description: "Figure caption identical to surrounding sentence"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "FIG-023"
  description: "Vector graphic has overprint flag—potential print issue"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@graphics"
  fix: null

- id: "FIG-024"
  description: "Alt‑text exceeds 140 chars—trim for accessibility"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@access"
  fix: null

- id: "FIG-025"
  description: "Alt‑text identical to caption—reduce redundancy"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@access"
  fix: null



# -------------------------------------
#  Package rules  •  PKG‑001 → PKG‑025
# -------------------------------------
- id: "PKG-001"
  description: "Package duplicate inclusion detected"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@pkg-lint"
  fix: null

- id: "PKG-002"
  description: "geometry loaded after hyperref – must precede"
  precondition: L2_Ast
  default_severity: Error
  maturity: Draft
  owner: "@pkg-lint"
  fix: reorder_packages

- id: "PKG-003"
  description: "Incompatible microtype options under LuaTeX"
  precondition: L3_Semantics
  default_severity: Error
  maturity: Draft
  owner: "@pkg-lint"
  fix: null

- id: "PKG-004"
  description: "Package loaded after \\begin{document}"
  precondition: L2_Ast
  default_severity: Error
  maturity: Draft
  owner: "@pkg-lint"
  fix: null

- id: "PKG-005"
  description: "Unknown option for geometry"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@pkg-lint"
  fix: null

- id: "PKG-006"
  description: "microtype expansion disabled"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@pkg-lint"
  fix: null

- id: "PKG-007"
  description: "hyperref loaded before geometry"
  precondition: L2_Ast
  default_severity: Error
  maturity: Draft
  owner: "@pkg-lint"
  fix: reorder_packages

- id: "PKG-008"
  description: "xcolor loaded without dvipsnames option"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@pkg-lint"
  fix: null

- id: "PKG-009"
  description: "TikZ libraries loaded inside document body"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@tikz"
  fix: null

- id: "PKG-010"
  description: "biblatex loaded with deprecated backend=biber"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@bib-team"
  fix: null

- id: "PKG-011"
  description: "booktabs required but not loaded for \\toprule"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@pkg-lint"
  fix: insert_usepackage

- id: "PKG-012"
  description: "csquotes not loaded when \\enquote used"
  precondition: L2_Ast
  default_severity: Error
  maturity: Draft
  owner: "@pkg-lint"
  fix: insert_usepackage

- id: "PKG-013"
  description: "microtype not loaded on XeLaTeX path"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@pkg-lint"
  fix: null

- id: "PKG-014"
  description: "siunitx v2 API detected (outdated)"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@pkg-lint"
  fix: null

- id: "PKG-015"
  description: "inputenc loaded under XeLaTeX/LuaLaTeX"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@pkg-lint"
  fix: null

- id: "PKG-016"
  description: "graphicx option pdftex incompatible with engine"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@pkg-lint"
  fix: null

- id: "PKG-017"
  description: "fontspec loaded in pdfLaTeX"
  precondition: L2_Ast
  default_severity: Error
  maturity: Draft
  owner: "@pkg-lint"
  fix: null

- id: "PKG-018"
  description: "hyperref option draft left enabled"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@pkg-lint"
  fix: null

- id: "PKG-019"
  description: "geometry margin < 1 cm"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@pkg-lint"
  fix: null

- id: "PKG-020"
  description: "tikz external library not loaded when externalising"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@pkg-lint"
  fix: null

- id: "PKG-021"
  description: "Package loaded twice with conflicting options"
  precondition: L2_Ast
  default_severity: Error
  maturity: Draft
  owner: "@pkg-lint"
  fix: null

- id: "PKG-022"
  description: "Obsolete package (epsfig, subfigure, natbib) detected"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@pkg-lint"
  fix: suggest_modern_package

- id: "PKG-023"
  description: "unicode‑math must load before microtype"
  precondition: L2_Ast
  default_severity: Error
  maturity: Draft
  owner: "@pkg-lint"
  fix: reorder_packages

- id: "PKG-024"
  description: "polyglossia language duplicated via \\setdefaultlanguage"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@pkg-lint"
  fix: null

- id: "PKG-025"
  description: "Engine option mismatch (xelatex=true on LuaLaTeX run)"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@pkg-lint"
  fix: null



# ------------------------------------------
#  TikZ / PGF rules  •  TIKZ‑001 → TIKZ‑010
# ------------------------------------------
- id: "TIKZ-001"
  description: "TikZ picture outside figure environment"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@tikz"
  fix: null

- id: "TIKZ-002"
  description: "TikZ compile time > 5 s"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@tikz"
  fix: null

- id: "TIKZ-003"
  description: "pgfplots axis labels not in math mode"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@tikz"
  fix: null

- id: "TIKZ-004"
  description: "Hard‑coded RGB values instead of xcolor names"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@tikz"
  fix: null

- id: "TIKZ-005"
  description: "TikZ externalisation not enabled for large figures"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@tikz"
  fix: null

- id: "TIKZ-006"
  description: "Missing \\caption for tikzpicture inside figure"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@tikz"
  fix: null

- id: "TIKZ-007"
  description: "TikZ loaded after hyperref – reorder required"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@tikz"
  fix: reorder_packages

- id: "TIKZ-008"
  description: "Uncompressed PDFs generated by TikZ"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@tikz"
  fix: null

- id: "TIKZ-009"
  description: "TikZ library arrows.meta missing for arrow tips"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@tikz"
  fix: null

- id: "TIKZ-010"
  description: "Deprecated \\pgfplotsset key used"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@tikz"
  fix: null



# ------------------------------------
#  Layout rules  •  LAY‑001 → LAY‑024
# ------------------------------------
- id: "LAY-001"
  description: "Overfull \\hbox > 2 pt outside bibliography"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "LAY-002"
  description: "Widow or orphan line detected"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "LAY-003"
  description: "Section heading at bottom of page"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "LAY-004"
  description: "Page margin outside geometry limits"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "LAY-005"
  description: "Lines per page exceed 66"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "LAY-006"
  description: "Float too close to previous float (< 2 lines)"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "LAY-007"
  description: "Paragraph indent inconsistent after display math"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "LAY-008"
  description: "Heading left‑aligned but style requires centred"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "LAY-009"
  description: "Footnote overlaps bottom margin"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "LAY-010"
  description: "Page number suppressed on chapter opener but required"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "LAY-011"
  description: "Figure overlaps footer (compile warning)"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "LAY-012"
  description: "Chapter starts on even page when style requires odd"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "LAY-013"
  description: "Empty page without \\thispagestyle{empty}"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "LAY-014"
  description: "Page break before subsection discouraged"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "LAY-015"
  description: "Line spacing < 1 or > 2"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "LAY-016"
  description: "Table split across page without \\allowbreak hints"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "LAY-017"
  description: "Section heading orphaned at page top"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "LAY-018"
  description: "Underfull \\vbox warning in log"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "LAY-019"
  description: "Margin note wider than marginpar width"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "LAY-020"
  description: "Float placement parameters modified (\\topnumber …)"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "LAY-021"
  description: "Overfull \\vbox inside bibliography section"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "LAY-022"
  description: "Global negative \\parskip detected"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "LAY-023"
  description: "Single‑sentence paragraph followed by blank line"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "LAY-024"
  description: "\\subsubsubsection depth > 3 without class support"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@structure"
  fix: null



# ------------------------------------
#  Colour rules  •  COL‑001 → COL‑007
# ------------------------------------
- id: "COL-001"
  description: "CMYK image in RGB workflow"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@graphics"
  fix: null

- id: "COL-002"
  description: "ICC profile missing in embedded image"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@graphics"
  fix: null

- id: "COL-003"
  description: "Transparent PNG in print‑optimised class"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@graphics"
  fix: null

- id: "COL-004"
  description: "PDF contains spot‑colour separation"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@graphics"
  fix: null

- id: "COL-005"
  description: "Excess distinct colours (> 256)"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@graphics"
  fix: null

- id: "COL-006"
  description: "xcolor option dvipsnames used with pdfLaTeX"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@graphics"
  fix: null

- id: "COL-007"
  description: "Spot colour detected in vector element"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@graphics"
  fix: null



# --------------------------------------------------
#  PDF / accessibility extras  •  PDF‑005 → PDF‑012
# --------------------------------------------------
- id: "PDF-005"
  description: "PDF/A or PDF/UA compliance flag missing"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@meta"
  fix: null

- id: "PDF-006"
  description: "Tagged PDF lacks /StructTreeRoot"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@meta"
  fix: null

- id: "PDF-007"
  description: "Figure objects without /Alt text in tagged PDF"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@access"
  fix: null

- id: "PDF-008"
  description: "Link annotations missing /Contents – screen‑reader issue"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@access"
  fix: null

- id: "PDF-009"
  description: "/Lang entry missing or mismatched in PDF catalog"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@meta"
  fix: null

- id: "PDF-010"
  description: "Outline/bookmark text contains '_' or '#' – use \\texorpdfstring"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@meta"
  fix: null

- id: "PDF-011"
  description: "Fonts in PDF not fully embedded or subsetted"
  precondition: L3_Semantics
  default_severity: Error
  maturity: Draft
  owner: "@meta"
  fix: null

- id: "PDF-012"
  description: "Logical page labels (/PageLabels) inconsistent with numbering"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@meta"
  fix: null



# ------------------------------------
#  Font rules  •  FONT‑001 → FONT‑013
# ------------------------------------
- id: "FONT-001"
  description: "Small‑caps applied to all‑caps word (ineffective)"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@fonts"
  fix: null

- id: "FONT-002"
  description: "Mixed optical sizes (e.g. 8 pt + 12 pt) in paragraph"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@fonts"
  fix: null

- id: "FONT-003"
  description: "Microtype protrusion disabled globally"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@fonts"
  fix: enable_protrusion

- id: "FONT-004"
  description: "Font change inside math via \\textit not \\mathit"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@fonts"
  fix: replace_with_mathit

- id: "FONT-005"
  description: "Fontspec fallback to Latin Modern detected"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@fonts"
  fix: null

- id: "FONT-006"
  description: "Missing \\microtypesetup{expansion=true}"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@fonts"
  fix: null

- id: "FONT-007"
  description: "Obsolete \\usepackage[T1]{fontenc} under XeLaTeX"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@fonts"
  fix: null

- id: "FONT-008"
  description: "Multiple \\setmainfont declarations"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@fonts"
  fix: null

- id: "FONT-009"
  description: "Small‑caps requested but glyphs missing – fallback visible"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@fonts"
  fix: null

- id: "FONT-010"
  description: "Digits in \\textsc not converted to small‑caps figures"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@fonts"
  fix: null

- id: "FONT-011"
  description: "Microtype protrusion mismatch between text and math fonts"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@fonts"
  fix: null

- id: "FONT-012"
  description: "ff‑ligature disabled adjacent to \\texttt — visual clash"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@fonts"
  fix: null

- id: "FONT-013"
  description: "Mixed proportional and tabular figures in same table column"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@fonts"
  fix: null



# ----------------------------------------------------
#  Language‑consistency rules  •  LANG‑001 → LANG‑016
# ----------------------------------------------------
- id: "LANG-001"
  description: "\\usepackage[british]{babel} but US spelling detected"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "LANG-002"
  description: "babel language option missing"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "LANG-003"
  description: "Mixed French‑/English punctuation spacing"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "LANG-004"
  description: "Polyglossia loaded alongside babel – mutual exclusion"
  precondition: L2_Ast
  default_severity: Error
  maturity: Draft
  owner: "@pkg-lint"
  fix: null

- id: "LANG-005"
  description: "Hyphen‑penalty too low – poor hyphenation exceptions"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "LANG-006"
  description: "Non‑English abstract before \\selectlanguage"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "LANG-007"
  description: "babel shorthand \" mis‑used instead of \\og … \\fg"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "LANG-008"
  description: "Spell‑checker dictionary differs from babel option"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "LANG-009"
  description: "Ragged‑right text in non‑Latin script"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "LANG-010"
  description: "Arabic digits in RTL context not localised"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "LANG-011"
  description: "French quotes absent – use \\og … \\fg{}"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "LANG-012"
  description: "babel language option mismatches dictionary"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "LANG-013"
  description: "Abstract language differs from \\selectlanguage"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "LANG-014"
  description: "BrE doc mixes ‑ize/‑ise endings inconsistently"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "LANG-015"
  description: "Serial‑comma rule violated (per style)"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "LANG-016"
  description: "‘programme’/‘program’ inconsistency in BrE text"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null



# -------------------------------------------------
#  RTL (right‑to‑left) rules  •  RTL‑001 → RTL‑005
# -------------------------------------------------
- id: "RTL-001"
  description: "Mixture of RTL and LTR digits within number"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@rtl"
  fix: null

- id: "RTL-002"
  description: "Missing \\textLR around Latin acronym in Arabic text"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@rtl"
  fix: null

- id: "RTL-003"
  description: "Unbalanced \\beginR / \\endR primitives"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@rtl"
  fix: null

- id: "RTL-004"
  description: "RTL punctuation not mirrored in math"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@rtl"
  fix: null

- id: "RTL-005"
  description: "Polyglossia RTL font not specified"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@rtl"
  fix: null



# -------------------------------------------------------
#  CJK / full‑width handling rules  •  CJK‑001 → CJK‑016
# -------------------------------------------------------
- id: "CJK-001"
  description: "Full‑width comma U+FF0C in ASCII context"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@cjk"
  fix: replace_ascii

- id: "CJK-002"
  description: "Full‑width period U+FF0E in ASCII context"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@cjk"
  fix: replace_ascii

- id: "CJK-003"
  description: "Japanese kinsoku: forbidden break before small kana"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@cjk"
  fix: null

- id: "CJK-004"
  description: "xeCJK package missing when CJK glyphs present"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@cjk"
  fix: insert_usepackage

- id: "CJK-005"
  description: "Mixed zh/ja fonts in same paragraph"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@cjk"
  fix: null

- id: "CJK-006"
  description: "Ruby annotation requires ruby package"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@cjk"
  fix: insert_usepackage

- id: "CJK-007"
  description: "Kanji glyph missing in selected CJK font"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@cjk"
  fix: null

- id: "CJK-008"
  description: "Full‑width space U+3000 inside math mode"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@cjk"
  fix: remove_char

- id: "CJK-009"
  description: "Western inter‑word space between CJK glyphs"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@cjk"
  fix: null

- id: "CJK-010"
  description: "Half‑width CJK punctuation in full‑width context"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@cjk"
  fix: replace_fullwidth

- id: "CJK-011"
  description: "Hiragana prolonged‑sound mark at line start"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@cjk"
  fix: null

- id: "CJK-012"
  description: "xeCJK spaceskip not tuned (\\xeCJKsetup)"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@cjk"
  fix: null

- id: "CJK-013"
  description: "Prohibited break before U+3002 ideographic full stop"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@cjk"
  fix: null

- id: "CJK-014"
  description: "Inter‑punct U+30FB outside CJK run"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@cjk"
  fix: replace_ascii

- id: "CJK-015"
  description: "Chinese comma U+3001 inside math mode"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@cjk"
  fix: null

- id: "CJK-016"
  description: "\\xeCJKsetup{CJKecglue} not tuned – wide gap"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@cjk"
  fix: null



# -----------------------------------------------------
#  Document‑wide style rules  •  STYLE‑001 → STYLE‑049
# -----------------------------------------------------
- id: "STYLE-001"
  description: "Inconsistent Oxford‑comma usage"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-002"
  description: "Mixed UK and US spelling"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-003"
  description: "Passive voice in > 20 % of sentences"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-004"
  description: "Paragraph exceeds 300 words"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-005"
  description: "First‑person pronoun ‘we’ inconsistent"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-006"
  description: "Consecutive sentences start with same word"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-007"
  description: "Bullet‑list items inconsistent punctuation"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-008"
  description: "Sentence starts with mathematical symbol"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-009"
  description: "Citation style mixes parenthetical and narrative"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-010"
  description: "First‑person singular ‘I’ in multi‑author paper"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-011"
  description: "Hyphen vs en‑dash inconsistency in ranges"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-012"
  description: "That/which relative‑clause misuse"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-013"
  description: "Sentence starts with numeric figure"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-014"
  description: "Contraction (don't, isn't) in formal text"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-015"
  description: "Double space after period"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: "collapse_spaces"

- id: "STYLE-016"
  description: "Latin abbreviations (e.g., i.e.) missing comma"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-017"
  description: "Sentence exceeds 40 words"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-018"
  description: "Dangling reference word ‘this’"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-019"
  description: "Multiple consecutive headings without text"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-020"
  description: "Acronym defined but never used"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-021"
  description: "Acronym used before definition"
  precondition: L4_Style
  default_severity: Warning
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-022"
  description: "Serial comma missing in three‑item list"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-023"
  description: "Percent sign in text not escaped"
  precondition: L4_Style
  default_severity: Warning
  maturity: Draft
  owner: "@style-council"
  fix: "escape_percent"

- id: "STYLE-024"
  description: "Ampersand in author list not escaped \\&"
  precondition: L4_Style
  default_severity: Warning
  maturity: Draft
  owner: "@style-council"
  fix: "escape_ampersand"

- id: "STYLE-025"
  description: "Run‑on sentence detected"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-026"
  description: "Repeated word (the the)"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-027"
  description: "Overuse of adverbs (‑ly > 5 % of words)"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-028"
  description: "Equation referenced without adjoining punctuation"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-029"
  description: "Undefined ‘we’ (author vs generic)"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-030"
  description: "Sub‑heading capitalisation inconsistent"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-031"
  description: "Heading number without title"
  precondition: L4_Style
  default_severity: Warning
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-032"
  description: "Bullet list mixes sentence‑case and title‑case"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-033"
  description: "Space before citation bracket"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: "remove_space"

- id: "STYLE-034"
  description: "Orphan word (1‑2 letters) at paragraph end"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-035"
  description: "Slash used for ‘and/or’"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-036"
  description: "Latin phrase (cf., ibid.) not italicised"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-037"
  description: "Sentence starts with conjunction ‘And’ or ‘But’"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-038"
  description: "Footnote paragraph exceeds 80 words"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-039"
  description: "Figure‑caption ending punctuation inconsistent"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-040"
  description: "Exclamation mark in academic prose"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-041"
  description: "Footnote lacks terminal period"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-042"
  description: "Consecutive short paragraphs (< 15 words)"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-043"
  description: "Section‑heading punctuation inconsistent"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-044"
  description: "Ambiguous demonstrative ‘this’ without noun"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-045"
  description: "Excess parentheses in single sentence (> 3)"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-046"
  description: "Mixed en‑ and em‑dash in same sentence"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-047"
  description: "Quote‑punctuation placement AmE vs BrE inconsistent"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-048"
  description: "Word‑pair variant ‘among/amongst’, ‘while/whilst’ mixed"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "STYLE-049"
  description: "Section heading ends with colon; house‑style forbids"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null



# --------------------------------------------------
#  Chemistry‑specific rules  •  CHEM‑001 → CHEM‑010
# --------------------------------------------------
- id: "CHEM-001"
  description: "Missing \\ce{} wrapper for chemical formula"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@chemistry"
  fix: wrap_ce

- id: "CHEM-002"
  description: "Oxidation‑state superscript missing braces"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@chemistry"
  fix: null

- id: "CHEM-003"
  description: "Isotope mass number subscripted, not superscripted"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@chemistry"
  fix: null

- id: "CHEM-004"
  description: "Charge written ^- instead of ^{-}"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@chemistry"
  fix: null

- id: "CHEM-005"
  description: "Chemical arrow typed '->' not \\rightarrow"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@chemistry"
  fix: replace_with_arrow

- id: "CHEM-006"
  description: "Stoichiometry coefficient inside \\ce missing"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@chemistry"
  fix: null

- id: "CHEM-007"
  description: "Reaction conditions not in \\text above arrow"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@chemistry"
  fix: null

- id: "CHEM-008"
  description: "State symbols (aq) not wrapped in \\text"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@chemistry"
  fix: null

- id: "CHEM-009"
  description: "Equilibrium arrow typed as '<>'"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@chemistry"
  fix: replace_with_equil_arrow

- id: "CHEM-010"
  description: "Reaction scheme exceeds page width"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@chemistry"
  fix: null



# ------------------------------------------
#  LaTeX3 / expl3 rules  •  L3‑001 → L3‑011
# ------------------------------------------
- id: "L3-001"
  description: "LaTeX3 \\tl_new:N in preamble mixed with 2e macros"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@expl3"
  fix: null

- id: "L3-002"
  description: "Expl3 variable declared after \\begin{document}"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@expl3"
  fix: null

- id: "L3-003"
  description: "Expl3 and etoolbox patch macros combined"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@expl3"
  fix: null

- id: "L3-004"
  description: "Undocumented \\__module_internal:N used"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@expl3"
  fix: null

- id: "L3-005"
  description: "Missing \\ExplSyntaxOn guard around expl3 code"
  precondition: L1_Expanded
  default_severity: Error
  maturity: Draft
  owner: "@expl3"
  fix: null

- id: "L3-006"
  description: "Expl3 variable clobbers package macro name"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@expl3"
  fix: null

- id: "L3-007"
  description: "Mix of camelCase and snake_case in expl3 names"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@expl3"
  fix: null

- id: "L3-008"
  description: "Expl3 module lacks \\ProvidesExplPackage"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@expl3"
  fix: null

- id: "L3-009"
  description: "LaTeX3 function deprecated _n: variant used"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@expl3"
  fix: null

- id: "L3-010"
  description: "\\ExplSyntaxOff missing at end of file"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@expl3"
  fix: null

- id: "L3-011"
  description: "Engine‑branch uses pdfTeX primitive in Lua/XeTeX path"
  precondition: L1_Expanded
  default_severity: Warning
  maturity: Draft
  owner: "@expl3"
  fix: null



# -------------------------------------------------
#  Document metadata rules  •  META‑001 → META‑004
# -------------------------------------------------
- id: "META-001"
  description: "PDF /Producer not set to deterministic hash"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@meta"
  fix: null

- id: "META-002"
  description: "Revision hash missing from \\date field"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@meta"
  fix: null

- id: "META-003"
  description: "Build timestamp not reproducible"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@meta"
  fix: null

- id: "META-004"
  description: "PDF /CreationDate not stripped – build not reproducible"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@meta"
  fix: null



# ------------------------------------------------
#  Document‑level structure  •  DOC‑001 → DOC‑005
# ------------------------------------------------
- id: "DOC-001"
  description: "Title missing \\maketitle"
  precondition: L2_Ast
  default_severity: Error
  maturity: Draft
  owner: "@structure"
  fix: null

- id: "DOC-002"
  description: "Abstract environment missing"
  precondition: L2_Ast
  default_severity: Warning
  maturity: Draft
  owner: "@structure"
  fix: null

- id: "DOC-003"
  description: "Keywords missing"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null

- id: "DOC-004"
  description: "Acknowledgment section before conclusion"
  precondition: L2_Ast
  default_severity: Info
  maturity: Draft
  owner: "@structure"
  fix: null

- id: "DOC-005"
  description: "\\keywords present but absent from PDF/XMP metadata"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@meta"
  fix: null



# --------------------------------------------------
#  Bibliography hygiene rules  •  BIB‑001 → BIB‑017
# --------------------------------------------------
- id: "BIB-001"
  description: "Entry missing DOI or ISBN/ISSN"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@bib-team"
  fix: null

- id: "BIB-002"
  description: "DOI not normalised to https://doi.org/ form"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@bib-team"
  fix: normalize_doi

- id: "BIB-003"
  description: "Journal title capitalisation inconsistent with @string definition"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@bib-team"
  fix: null

- id: "BIB-004"
  description: "Book entry lacks publisher field"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@bib-team"
  fix: null

- id: "BIB-005"
  description: "URL present without urldate"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@bib-team"
  fix: null

- id: "BIB-006"
  description: "Author/editor names not in “von Last, First” scheme"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@bib-team"
  fix: null

- id: "BIB-007"
  description: "Duplicate DOI appears in more than one entry"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@bib-team"
  fix: null

- id: "BIB-008"
  description: "Camel‑case field names detected (e.g. `Title` → `title`)"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@bib-team"
  fix: lowercase_fields

- id: "BIB-009"
  description: "In‑proceedings entry missing required `booktitle` field"
  precondition: L3_Semantics
  default_severity: Error
  maturity: Draft
  owner: "@bib-team"
  fix: null

- id: "BIB-010"
  description: "`month` field uses numeric literal instead of `#jan#` macro"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@bib-team"
  fix: null

- id: "BIB-011"
  description: "Legacy `note = {URL: …}` field detected; move to `url`"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@bib-team"
  fix: move_url

- id: "BIB-012"
  description: "`et al.` hard‑coded in author list instead of letting Bib(La)TeX truncate"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@bib-team"
  fix: null

- id: "BIB-013"
  description: "Title capitalisation incorrect for selected bibliography style"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@bib-team"
  fix: null

- id: "BIB-014"
  description: "Duplicate author‑year key without (a,b,…) disambiguation suffix"
  precondition: L3_Semantics
  default_severity: Warning
  maturity: Draft
  owner: "@bib-team"
  fix: null

- id: "BIB-015"
  description: "Trailing period in `title` or `note` field is redundant"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@bib-team"
  fix: null

- id: "BIB-016"
  description: "Both DOI and URL present—duplicate locator information"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@bib-team"
  fix: null

- id: "BIB-017"
  description: "Sentence‑case entry `title` ends with punctuation mark"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@bib-team"
  fix: null



# --------------------------------------------------------
#  Multilingual pedantic rules  (CE‑, DE‑, …, IB‑ series)
# --------------------------------------------------------
- id: "CE-001"
  description: "Canadian EN: mixes BrE “colour” with AmE “color”"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "CE-002"
  description: "Canadian EN: Oxford comma must always be used"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "DE-006"
  description: "Swiss DE: glyph ß is prohibited—use “ss”"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "FR-007"
  description: "FR‑BE: thin NB‑space before/after € sign required"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: insert_nbsp

- id: "FR-008"
  description: "French: ligature œ/Œ mandatory in “cœur”, “œuvre”…"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@style-council"
  fix: auto_utf8

- id: "PT-001"
  description: "pt‑BR: pre‑2009 spellings “acção”, “óptimo” forbidden"
  precondition: L4_Style
  default_severity: Warning
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "PT-002"
  description: "pt‑BR: decimal comma and thousand dot enforcement"
  precondition: L1_Expanded
  default_severity: Info
  maturity: Draft
  owner: "@math-rules"
  fix: null

- id: "PT-003"
  description: "pt‑PT: ordinal 1.º/1.ª must use º/ª, not superscript"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "NL-001"
  description: "NL: digraph IJ/ij—capitalise both letters at sentence start"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "NL-002"
  description: "NL: quotes must be uniform (‘…’ or „…‟)"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "RU-001"
  description: "RU: NB‑space required before em‑dash"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: insert_nbsp

- id: "RU-002"
  description: "RU: letter ё must be preserved where needed"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "PL-001"
  description: "PL: NB‑space before abbreviations “r.”, “nr”, “s.”"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: insert_nbsp

- id: "PL-002"
  description: "PL: primary quotes „…”, nested »…« only"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "CS-001"
  description: "CS/SK: thin NB‑space before °C forbidden"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: replace_space

- id: "CS-002"
  description: "CS/SK: date format must be 30.\,1.\,2026"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "EL-001"
  description: "Greek: oxia vs tonos normalisation"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@style-council"
  fix: normalize_nfc

- id: "TR-001"
  description: "TR: dotless/dotted I mapping error"
  precondition: L4_Style
  default_severity: Warning
  maturity: Draft
  owner: "@style-council"
  fix: null

- id: "RO-001"
  description: "RO: use Ș/ș (S‑comma) not Ş/ş (S‑cedilla)"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@style-council"
  fix: auto_replace

- id: "CY-001"
  description: "Cyrillic initials require NB‑space “И.\,И.”"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: insert_nbsp

- id: "AR-002"
  description: "AR: ASCII hyphen in phone numbers—use \\arabicdash"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: replace_with_macro

- id: "HE-001"
  description: "HE: apostrophe used instead of geresh U+05F3"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@style-council"
  fix: auto_replace

- id: "ZH-001"
  description: "ZH‑Hans: western '.' – use Chinese ‘。’"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@cjk"
  fix: replace_fullwidth

- id: "ZH-002"
  description: "ZH‑Hant: quotes must be 「…」 or 『…』 consistently"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@cjk"
  fix: null

- id: "JA-001"
  description: "JA: half‑width katakana present—use full‑width"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@cjk"
  fix: replace_fullwidth

- id: "JA-002"
  description: "JA: U+FF5E tilde normalise to wave‑dash U+301C"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@cjk"
  fix: normalize_char

- id: "KO-001"
  description: "KO: Old‑Hangul jamo outside scholarly context"
  precondition: L0_Lexer
  default_severity: Warning
  maturity: Draft
  owner: "@cjk"
  fix: null

- id: "HI-001"
  description: "HI: ZWJ/ZWNJ misuse next to ख्"
  precondition: L0_Lexer
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: remove_char

- id: "TH-001"
  description: "TH: leading vowels at line break need \\nobreakspace"
  precondition: L3_Semantics
  default_severity: Info
  maturity: Draft
  owner: "@layout"
  fix: null

- id: "IB-001"
  description: "Brochure mixes ‘você’ (pt‑BR) and ‘tú’ (es‑ES)"
  precondition: L4_Style
  default_severity: Info
  maturity: Draft
  owner: "@style-council"
  fix: null