{
  "TYPO-001": {
    "layer": "L0",
    "severity": "Error",
    "message": "ASCII straight quotes must be curly quotes",
    "pattern": {
      "family": "count_char_strip_math",
      "char": "\""
    }
  },
  "TYPO-004": {
    "layer": "L0",
    "severity": "Warning",
    "message": "TeX double back-tick ``â€¦'' not allowed; use curly quotes",
    "pattern": {
      "family": "multi_substring",
      "needles": ["``", "''"]
    }
  },
  "TYPO-005": {
    "layer": "L0",
    "severity": "Warning",
    "message": "Ellipsis typed as three periods ...; use \\dots",
    "pattern": {
      "family": "count_substring_strip_math",
      "needle": "..."
    }
  },
  "TYPO-006": {
    "layer": "L0",
    "severity": "Error",
    "message": "Tab character U+0009 forbidden",
    "pattern": {
      "family": "count_char",
      "char": "\t"
    }
  },
  "TYPO-023": {
    "layer": "L0",
    "severity": "Warning",
    "message": "Windows CR (\\r) line endings found",
    "pattern": {
      "family": "count_char",
      "char": "\r"
    }
  },
  "TYPO-030": {
    "layer": "L0",
    "severity": "Warning",
    "message": "More than three hyphens detected (----)",
    "pattern": {
      "family": "count_substring",
      "needle": "----"
    }
  },
  "TYPO-034": {
    "layer": "L0",
    "severity": "Info",
    "message": "Spurious space before \\footnote",
    "pattern": {
      "family": "count_substring",
      "needle": " \\footnote"
    }
  },
  "TYPO-035": {
    "layer": "L0",
    "severity": "Warning",
    "message": "Space before French punctuation mark; use non-breaking space ~",
    "pattern": {
      "family": "multi_substring",
      "needles": [" ;", " :", " !", " ?"]
    }
  },
  "TYPO-036": {
    "layer": "L0",
    "severity": "Info",
    "message": "Suspicious consecutive capitalised words; check for inadvertent shouting",
    "pattern": {
      "family": "regex",
      "regex": "\\b[A-Z][A-Z]+ [A-Z][A-Z]+ [A-Z][A-Z]+\\b"
    }
  },
  "TYPO-037": {
    "layer": "L0",
    "severity": "Info",
    "message": "Space before comma",
    "pattern": {
      "family": "count_substring",
      "needle": " ,"
    }
  },
  "TYPO-038": {
    "layer": "L0",
    "severity": "Info",
    "message": "Bare e-mail address found; wrap in \\href{mailto:...}",
    "pattern": {
      "family": "regex",
      "regex": "[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]+"
    }
  },
  "TYPO-041": {
    "layer": "L0",
    "severity": "Info",
    "message": "Incorrect spacing around \\ldots; check for missing space",
    "pattern": {
      "family": "multi_substring",
      "needles": [".\\ldots", "\\ldots.", ",\\ldots"]
    }
  },
  "TYPO-042": {
    "layer": "L0",
    "severity": "Info",
    "message": "Multiple consecutive question marks",
    "pattern": {
      "family": "count_substring",
      "needle": "??"
    }
  },
  "TYPO-043": {
    "layer": "L0",
    "severity": "Warning",
    "message": "Smart (curly) quotes detected; verbatim sections require ASCII quotes",
    "pattern": {
      "family": "multi_substring",
      "needles": ["\u201C", "\u201D", "\u2018", "\u2019"]
    }
  },
  "TYPO-048": {
    "layer": "L0",
    "severity": "Info",
    "message": "En-dash character used where minus sign expected",
    "pattern": {
      "family": "custom",
      "body": "fun s -> let s = strip_math_segments s in Unicode.count_en_dash s"
    }
  },
  "TYPO-051": {
    "layer": "L0",
    "severity": "Warning",
    "message": "Thin space U+2009 found; prefer \\thinspace or \\, macro",
    "pattern": {
      "family": "count_substring",
      "needle": "\u2009"
    }
  },
  "TYPO-052": {
    "layer": "L0",
    "severity": "Warning",
    "message": "Unescaped < or > in text; use \\textless / \\textgreater",
    "pattern": {
      "family": "custom",
      "body": "fun s -> let s = strip_math_segments s in count_char s '<' + count_char s '>'"
    }
  },
  "TYPO-053": {
    "layer": "L0",
    "severity": "Warning",
    "message": "Unicode midline ellipsis U+22EF found; use \\cdots instead",
    "pattern": {
      "family": "count_substring",
      "needle": "\u22EF"
    }
  },
  "TYPO-054": {
    "layer": "L0",
    "severity": "Info",
    "message": "En-dash adjacent to letter without spacing; consider thin space",
    "pattern": {
      "family": "regex",
      "regex": "[a-zA-Z]\u2013[a-zA-Z]"
    }
  },
  "TYPO-055": {
    "layer": "L0",
    "severity": "Info",
    "message": "Consecutive \\, thin-spaces detected; collapse into single space",
    "pattern": {
      "family": "count_substring",
      "needle": "\\,\\,"
    }
  },
  "TYPO-057": {
    "layer": "L0",
    "severity": "Info",
    "message": "Number directly adjacent to degree symbol; insert thin space",
    "pattern": {
      "family": "regex",
      "regex": "[0-9]\u00b0"
    }
  },
  "TYPO-061": {
    "layer": "L0",
    "severity": "Info",
    "message": "Unicode multiplication sign found; prefer \\times in math mode",
    "pattern": {
      "family": "count_substring_strip_math",
      "needle": "\u00D7"
    }
  },
  "TYPO-063": {
    "layer": "L0",
    "severity": "Info",
    "message": "Non-breaking hyphen U+2011 found; use standard hyphen",
    "pattern": {
      "family": "count_substring",
      "needle": "\u2011"
    }
  },
  "TYPO-039": {
    "layer": "L0",
    "severity": "Info",
    "message": "URL split across lines without \\url{}",
    "pattern": {
      "family": "regex",
      "regex": "https?://[^ \t\n}]+"
    }
  },
  "TYPO-040": {
    "layer": "L0",
    "severity": "Info",
    "message": "Inline math $...$ exceeds 80 characters",
    "pattern": {
      "family": "custom",
      "body": "fun s -> let re = Str.regexp \"\\\\$\\\\([^$]+\\\\)\\\\$\" in let rec loop i acc = try ignore (Str.search_forward re s i); let inner = Str.matched_group 1 s in loop (Str.match_end ()) (if String.length inner > 80 then acc + 1 else acc) with Not_found -> acc in loop 0 0"
    }
  },
  "TYPO-045": {
    "layer": "L0",
    "severity": "Warning",
    "message": "Non-ASCII punctuation in math mode",
    "pattern": {
      "family": "custom",
      "body": "fun s -> let n = String.length s in let rec scan i inside acc = if i >= n then acc else let c = Char.code s.[i] in if c = 0x24 then scan (i+1) (not inside) acc else if inside && c >= 0x80 then scan (i+1) inside (acc+1) else scan (i+1) inside acc in scan 0 false 0"
    }
  },
  "TYPO-046": {
    "layer": "L0",
    "severity": "Info",
    "message": "Use of \\begin{math} instead of $...$",
    "pattern": {
      "family": "multi_substring",
      "needles": ["\\begin{math}", "\\end{math}"]
    }
  },
  "TYPO-047": {
    "layer": "L0",
    "severity": "Info",
    "message": "Starred \\section* used where numbered section expected",
    "pattern": {
      "family": "count_substring",
      "needle": "\\section*"
    }
  },
  "TYPO-049": {
    "layer": "L0",
    "severity": "Info",
    "message": "Space after opening quote",
    "pattern": {
      "family": "multi_substring",
      "needles": ["\u201C ", "\u2018 "]
    }
  },
  "TYPO-056": {
    "layer": "L0",
    "severity": "Warning",
    "message": "Legacy TeX accent command found; use UTF-8 character directly",
    "pattern": {
      "family": "regex",
      "regex": "\\\\['^`\"~=.][{][a-zA-Z][}]"
    }
  },
  "TYPO-058": {
    "layer": "L0",
    "severity": "Warning",
    "message": "Greek homograph letter found in Latin text",
    "pattern": {
      "family": "multi_substring",
      "needles": ["\u03B1", "\u03B5", "\u03B9", "\u03BF", "\u03C1", "\u03C2", "\u03C5"]
    }
  }
}
